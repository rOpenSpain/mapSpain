<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started â€¢ mapSpain</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Get Started">
<meta property="og:description" content="mapSpain">
<meta property="og:image" content="https://dieghernan.github.io/mapSpain/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@dhernangomez">
<meta name="twitter:site" content="@dhernangomez">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapSpain</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mapSpain.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../authors.html">Authors</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dieghernan/mapSpain/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://dieghernan.github.io/">
    <span class="fas fa fas fa-blog fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="mapSpain_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="mapSpain_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="mapSpain_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dieghernan/mapSpain/blob/master/vignettes/mapSpain.Rmd"><code>vignettes/mapSpain.Rmd</code></a></small>
      <div class="hidden name"><code>mapSpain.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><a href="https://dieghernan.github.io/mapSpain/"><strong><code>mapSpain</code></strong></a> is a package designed to provide geographical information of Spain at different levels.</p>
<p><strong><code>mapSpain</code></strong> provides shapefiles of municipalities, provinces, autonomous communities and NUTS levels of Spain. It also provides hexbin shapefiles and other complementary shapes, as the usual lines around the Canary Islands.</p>
<p><strong><code>mapSpain</code></strong> provides access to map tiles of public organisms of Spain, that can be represented on static maps via <code><a href="../reference/esp_getTiles.html">mapSpain::esp_getTiles()</a></code> or on a <strong>R</strong> leaflet map using <code><a href="../reference/addProviderEspTiles.html">mapSpain::addProviderEspTiles()</a></code>.</p>
<p>On top of that, <strong><code>mapSpain</code></strong> also has a powerful dictionary that translate provinces and other regions to English, Spanish, Catalan, Basque language or Galician, and also convers those names to different coding standards, as NUTS, ISO2 or the coding system used by the INE, that is the official statistic agency of Spain.</p>
</div>
<div id="caching" class="section level1">
<h1 class="hasAnchor">
<a href="#caching" class="anchor"></a>Caching</h1>
<p><code>mapSpain</code> provides a dataset and tile caching capability, that could be set as:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>mapSpain_cache_dir <span class="op">=</span> <span class="st">"~/path/to/dir"</span><span class="op">)</span>

<span class="va">OR</span> 

<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>gisco_cache_dir <span class="op">=</span> <span class="st">"~/path/to/dir"</span><span class="op">)</span></code></pre></div>
<p><code>mapSpain</code> relies on <code>giscoR</code> for downloading some files, and both packages are well synchronized, so if you already use <code>giscoR</code> and you have set your caching options for that package it would be recognized too by <code>mapSpain</code>.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>For installing the development version on (<a href="https://github.com/dieghernan/mapSpain/">Github</a>):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org">remotes</a></span><span class="op">)</span>
<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"dieghernan/mapSpain"</span><span class="op">)</span></code></pre></div>
</div>
<div id="basic-example" class="section level1">
<h1 class="hasAnchor">
<a href="#basic-example" class="anchor"></a>Basic example</h1>
<p>Some examples of what <code>mapSpain</code>can do:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/mapSpain/">mapSpain</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">#&gt; Linking to GEOS 3.8.1, GDAL 3.1.1, PROJ 6.3.1</span>

<span class="va">country</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_country.html">esp_get_country</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">lines</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_can_box.html">esp_get_can_box</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span>, axes <span class="op">=</span> <span class="cn">TRUE</span>, col <span class="op">=</span> <span class="st">"brown"</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">lines</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="mapSpain_files/figure-html/basic-1.png" width="672"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="co"># Plot provinces</span>

<span class="va">Andalucia</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_prov.html">esp_get_prov</a></span><span class="op">(</span><span class="st">"Andalucia"</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">Andalucia</span><span class="op">)</span>,
  col <span class="op">=</span> <span class="st">"darkgreen"</span>,
  border <span class="op">=</span> <span class="st">"white"</span>,
  axes <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p><img src="mapSpain_files/figure-html/basic-2.png" width="672"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Plot municipalities</span>



<span class="va">Bizkaia</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_munic.html">esp_get_munic</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"Euskadi"</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span>
  <span class="va">Bizkaia</span><span class="op">[</span>, <span class="st">"cpro"</span><span class="op">]</span>,
  pal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red2"</span>, <span class="st">"darkgreen"</span>, <span class="st">"ivory2"</span><span class="op">)</span>,
  axes <span class="op">=</span> <span class="cn">TRUE</span>,
  key.pos <span class="op">=</span> <span class="cn">NULL</span>,
  border <span class="op">=</span> <span class="st">"grey50"</span>,
  main <span class="op">=</span> <span class="st">"Municipalities of the Basque Country"</span>
<span class="op">)</span></code></pre></div>
<p><img src="mapSpain_files/figure-html/basic-3.png" width="672"></p>
</div>
<div id="thematic-maps" class="section level1">
<h1 class="hasAnchor">
<a href="#thematic-maps" class="anchor"></a>Thematic maps</h1>
<p>This is an example on how <code>mapSpain</code> can be used to create thematic maps. For plotting purposes we would use the <a href="https://riatelab.github.io/cartography/docs/index.html"><code>cartography</code> package</a>, however any package that handles <code>sf</code> objects (e.g.Â <code>ggplot2</code>, <code>tmap</code>, <code>leaflet</code>, etc. could be used).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Population density of East of Spain</span>

<span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu">mapSpain</span><span class="fu">::</span><span class="va"><a href="../reference/pobmun19.html">pobmun19</a></span>

<span class="va">munic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_munic.html">esp_get_munic</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Get area (km2)</span>
<span class="va">municarea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">munic</span>, <span class="fl">3857</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fl">1000000</span><span class="op">)</span>
<span class="va">munic</span><span class="op">$</span><span class="va">area</span> <span class="op">&lt;-</span> <span class="va">municarea</span>

<span class="va">munic.pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">munic</span>, <span class="va">pop</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">munic.pop</span><span class="op">$</span><span class="va">dens</span> <span class="op">&lt;-</span> <span class="va">munic.pop</span><span class="op">$</span><span class="va">pob19</span> <span class="op">/</span> <span class="va">munic.pop</span><span class="op">$</span><span class="va">area</span>



<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/riatelab/cartography/">cartography</a></span><span class="op">)</span>

<span class="va">br</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,
    <span class="fl">10</span>,
    <span class="fl">25</span>,
    <span class="fl">100</span>,
    <span class="fl">200</span>,
    <span class="fl">500</span>,
    <span class="fl">1000</span>,
    <span class="fl">5000</span>,
    <span class="fl">10000</span>,
    <span class="cn">Inf</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/choroLayer.html">choroLayer</a></span><span class="op">(</span>
  <span class="va">munic.pop</span>,
  var <span class="op">=</span> <span class="st">"dens"</span>,
  breaks <span class="op">=</span> <span class="va">br</span>,
  legend.pos <span class="op">=</span> <span class="st">"n"</span>,
  col <span class="op">=</span>
    <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">br</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, pal <span class="op">=</span> <span class="st">"inferno"</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span>,
  colNA <span class="op">=</span> <span class="st">"grey50"</span>,
  border <span class="op">=</span> <span class="cn">NA</span>
<span class="op">)</span>



<span class="va">brlabs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/formatc.html">prettyNum</a></span><span class="op">(</span><span class="va">br</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>
<span class="va">brlabs</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">brlabs</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span>
<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/legendChoro.html">legendChoro</a></span><span class="op">(</span>
  pos <span class="op">=</span> <span class="st">"topleft"</span>,
  breaks <span class="op">=</span> <span class="va">brlabs</span>,
  col <span class="op">=</span>
    <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">br</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, pal <span class="op">=</span> <span class="st">"inferno"</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span>,
  title.txt <span class="op">=</span> <span class="st">"Density Pop.\nkm2"</span>,
  nodata <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/esp_get_can_box.html">esp_get_can_box</a></span><span class="op">(</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="mapSpain_files/figure-html/thematic-1.png" width="700.8"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Diego HernangÃ³mez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
