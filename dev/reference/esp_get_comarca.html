<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca • mapSpain</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca"><meta name="description" content="Returns 'comarcas' of Spain as sf POLYGON objects."><meta property="og:description" content="Returns 'comarcas' of Spain as sf POLYGON objects."><meta property="og:image" content="https://ropenspain.github.io/mapSpain/logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@dhernangomez"><meta name="twitter:site" content="@rOpenSpain"><meta name="robots" content="noindex"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-5N21Z0YYJJ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5N21Z0YYJJ');
</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet"><!-- rogtemplate style sheet --><link href="../BS5/rostemplate.min.css" rel="stylesheet"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
  <a class="navbar-brand me-2" href="../index.html">
    <img src="../apple-touch-icon.png" alt="mapSpain logo" height="40" class="d-inline-block me-1">mapSpain</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.99.99.9000</small>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mapSpain.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/articles/working_imagery.html">Working with imagery</a></li>
    <li><a class="dropdown-item" href="../articles/articles/regioncodes.html">Annex: Codes and names of the Spanish regions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other materials</h6></li>
    <li><a class="external-link dropdown-item" href="https://dieghernan.github.io/rpubs/mapSpain_slides/">mapSpain: Mapas de España en R (xaringan)</a></li>
    <li><a class="dropdown-item" href="../articles/articles/mapasesp.html">mapSpain: Mapas de España en R (.Rmd)</a></li>
    <li><a class="external-link dropdown-item" href="http://madrid.r-es.org/69-jueves-25-de-noviembre-de-2021/">Grupo de Usuarios R Madrid 25-nov-2021 (video)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/dhernangomez" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rOpenSpain/mapSpain/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get 'comarcas' of Spain as <code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf</a></code> <code>POLYGON</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/rOpenSpain/mapSpain/blob/main/R/esp_get_comarca.R" class="external-link"><code>R/esp_get_comarca.R</code></a></small>
      <div class="d-none name"><code>esp_get_comarca.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns 'comarcas' of Spain as <code>sf</code> <code>POLYGON</code> objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">esp_get_comarca</span><span class="op">(</span></span>
<span>  region <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  comarca <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  moveCAN <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"INE"</span>, <span class="st">"IGN"</span>, <span class="st">"AGR"</span>, <span class="st">"LIV"</span><span class="op">)</span>,</span>
<span>  epsg <span class="op">=</span> <span class="st">"4258"</span>,</span>
<span>  update_cache <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cache_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>INE: PC_Axis files, IGN, Ministry of Agriculture, Fisheries and Food (MAPA).</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>A vector of names and/or codes for provinces or <code>NULL</code> to get
all the comarcas. See <strong>Details</strong>.</p></dd>


<dt id="arg-comarca">comarca<a class="anchor" aria-label="anchor" href="#arg-comarca"></a></dt>
<dd><p>A name or <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">regex</a></code> expression with the names of
the required comarcas. <code>NULL</code> would return all the possible comarcas.</p></dd>


<dt id="arg-movecan">moveCAN<a class="anchor" aria-label="anchor" href="#arg-movecan"></a></dt>
<dd><p>A logical <code>TRUE/FALSE</code> or a vector of coordinates
<code>c(lat, lon)</code>. It places the Canary Islands close to Spain's mainland.
Initial position can be adjusted using the vector of coordinates. See
<strong>Displacing the Canary Islands</strong> in <code><a href="esp_move_can.html">esp_move_can()</a></code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>One of <code>"INE"</code>, <code>"IGN"</code>, <code>"AGR"</code>, <code>"LIV"</code>. Type of comarca to
return, see <strong>Details</strong>.</p></dd>


<dt id="arg-epsg">epsg<a class="anchor" aria-label="anchor" href="#arg-epsg"></a></dt>
<dd><p>character string or number. Projection of the map: 4-digit
<a href="https://epsg.io/" class="external-link">EPSG code</a>. One of:</p><ul><li><p><code>"4258"</code>: <a href="https://epsg.io/4258" class="external-link">ETRS89</a></p></li>
<li><p><code>"4326"</code>: <a href="https://epsg.io/4326" class="external-link">WGS84</a>.</p></li>
<li><p><code>"3035"</code>: <a href="https://epsg.io/3035" class="external-link">ETRS89 / ETRS-LAEA</a>.</p></li>
<li><p><code>"3857"</code>: <a href="https://epsg.io/3857" class="external-link">Pseudo-Mercator</a>.</p></li>
</ul></dd>


<dt id="arg-update-cache">update_cache<a class="anchor" aria-label="anchor" href="#arg-update-cache"></a></dt>
<dd><p>logical. Should the cached file be refreshed?. Default
is <code>FALSE</code>. When set to <code>TRUE</code> it would force a new download.</p></dd>


<dt id="arg-cache-dir">cache_dir<a class="anchor" aria-label="anchor" href="#arg-cache-dir"></a></dt>
<dd><p>character string. A path to a cache directory. See
<strong>Caching strategies</strong> section in <code><a href="esp_set_cache_dir.html">esp_set_cache_dir()</a></code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical. If <code>TRUE</code> displays informational messages.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf</a></code> polygon object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="about-comarcas">About comarcas<a class="anchor" aria-label="anchor" href="#about-comarcas"></a></h3>


<p>'Comarcas' (English equivalent: district, county, area or zone) does not
always have a formal legal status. They correspond mainly to natural areas
(valleys, river basins etc.) or even to historical regions or ancient
kingdoms.</p>
<p>In the case of Spain, comarcas only have an administrative character legally
recognized in Catalonia, the Basque Country, Navarra (named merindades
instead), in the region of El Bierzo (Castilla y Leon) and Aragon. Galicia,
the Principality of Asturias, and Andalusia have functional comarcas.</p>
</div>

<div class="section">
<h3 id="types">Types<a class="anchor" aria-label="anchor" href="#types"></a></h3>


<p><code>esp_get_comarca()</code> can retrieve several types of comarcas, each one
provided under different classification criteria.</p><ul><li><p><code>"INE"</code>: Comarcas as defined by the National Statistics Institute (INE).</p></li>
<li><p><code>"IGN"</code>: Official comarcas, only available on some Autonomous Communities,
provided by the National Geographic Institute.</p></li>
<li><p><code>"AGR"</code>: Agrarian comarcas defined by the Ministry of Agriculture,
Fisheries and Food (MAPA).</p></li>
<li><p><code>"LIV"</code>: Livestock comarcas defined by the Ministry of Agriculture,
Fisheries and Food (MAPA).</p></li>
</ul></div>

<div class="section">
<h3 id="misc">Misc<a class="anchor" aria-label="anchor" href="#misc"></a></h3>


<p>When using <code>region</code> you can use and mix names and NUTS codes
(levels 1, 2 or 3), ISO codes (corresponding to level 2 or 3) or
"cpro" (see <a href="esp_codelist.html">esp_codelist</a>).</p>
<p>When calling a higher level (Province, Autonomous Community or NUTS1),
all the comarcas of that level would be added.</p>
</div>

<div class="section">
<h3 id="legal-notice">Legal Notice<a class="anchor" aria-label="anchor" href="#legal-notice"></a></h3>


<p>The use of the information contained on the
<a href="https://www.ine.es/en/index.htm" class="external-link">INE website</a> may be carried out by users or
re-use agents, at their own risk, and they will be the sole liable parties
in the case of having to answer to third parties due to damages arising
from such use.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other political:
<code><a href="esp_codelist.html">esp_codelist</a></code>,
<code><a href="esp_get_can_box.html">esp_get_can_box()</a></code>,
<code><a href="esp_get_capimun.html">esp_get_capimun()</a></code>,
<code><a href="esp_get_ccaa.html">esp_get_ccaa()</a></code>,
<code><a href="esp_get_ccaa_siane.html">esp_get_ccaa_siane()</a></code>,
<code><a href="esp_get_country.html">esp_get_country()</a></code>,
<code><a href="esp_get_gridmap.html">esp_get_gridmap</a></code>,
<code><a href="esp_get_munic.html">esp_get_munic()</a></code>,
<code><a href="esp_get_nuts.html">esp_get_nuts()</a></code>,
<code><a href="esp_get_prov.html">esp_get_prov()</a></code>,
<code><a href="esp_get_prov_siane.html">esp_get_prov_siane()</a></code>,
<code><a href="esp_get_simplified.html">esp_get_simpl_prov()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">comarcas</span> <span class="op">&lt;-</span> <span class="fu">esp_get_comarca</span><span class="op">(</span>moveCAN <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">comarcas</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="esp_get_comarca-1.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># IGN provides recognized comarcas</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rec</span> <span class="op">&lt;-</span> <span class="fu">esp_get_comarca</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"IGN"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rec</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">t_comarca</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="esp_get_comarca-2.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Legal Comarcas of Catalunya</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">comarcas_cat</span> <span class="op">&lt;-</span> <span class="fu">esp_get_comarca</span><span class="op">(</span><span class="st">"Catalunya"</span>, type <span class="op">=</span> <span class="st">"IGN"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">comarcas_cat</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ine.prov.name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Province"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="esp_get_comarca-3.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>

  <!-- ropenspain rostemplate -->
<footer id="footer"><div class="container">
    <div class="row">
      <div class="col-md">
        <h4 data-toc-skip>About <img src="../logo.png" alt="mapSpain Logo" height="24"> mapSpain</h4>
        <p>Developed by <a href="https://dieghernan.github.io/" class="external-link">Diego Hernangómez</a>.</p>
        <p>Part of the <span class="ROS-light">rOpenSpain</span> project.</p>
        <hr class="d-md-none"></div>
      <div class="col-md offset-md-4">
        <h4 data-toc-skip>About <img src="../ROS-logo.png" alt="ROpenSpain Logo" height="24"><span class="ROS-light"> rOpenSpain</span></h4>
        <a href="https://ropenspain.es/" class="external-link"><span class="ROS-light">rOpenSpain</span></a> is a community of R enthusiasts whose ultimate goal is to create high-quality R packages for data mining public Spanish open sources.
        <hr class="d-md-none"></div>
   </div>
  </div>
</footer><div id="copyright">
  <div class="container">
    <div class="row">
      <div class="col-md text-center text-lg-start">
        <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
      </div>
      <div class="col-md offset-md-4 text-center text-lg-start">
      <p>Template <a href="https://github.com/ropenspain/rostemplate/" class="external-link">rostemplate</a> by <a href="https://github.com/dieghernan/" class="external-link">dieghernan</a>, based on <a href="https://bootstraptemple.com/" class="external-link">bootstraptemple.com</a>.
      </p>
      </div>
    </div>
  </div>
</div>




  <script>
var h1s = document.getElementsByTagName("h1");
var myH1;
if (h1s.length > 0) {
  myH1 = h1s[0];
  myH1.classList.add("ROSh1");
}
</script></body></html>

