[{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Get Started","text":"Full site examples vignettes https://ropenspain.github.io/mapSpain/ mapSpain package designed provide geographical information Spain different levels. mapSpain provides shapefiles municipalities, provinces, autonomous communities NUTS levels Spain. also provides hexbin shapefiles complementary shapes, usual lines around Canary Islands. mapSpain provides access map tiles public organisms Spain, can represented static maps via mapSpain::esp_getTiles() R leaflet map using mapSpain::addProviderEspTiles(). top , mapSpain also powerful dictionary translate provinces regions English, Spanish, Catalan, Basque language Galician, also converts names different coding standards, NUTS, ISO2 coding system used INE, official statistic agency Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"caching","dir":"Articles","previous_headings":"","what":"Caching","title":"Get Started","text":"mapSpain provides dataset tile caching capability, set : mapSpain relies giscoR downloading files, packages well synchronized. Setting caching directory speed data load session.","code":"esp_set_cache_dir(\"./path/to/location\")"},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"basic-example","dir":"Articles","previous_headings":"","what":"Basic example","title":"Get Started","text":"examples mapSpain can : Example: Map Spain Example: Provinces Andalucia Example: Municipalities Basque Country","code":"library(mapSpain) library(ggplot2)  country <- esp_get_country() lines <- esp_get_can_box()  ggplot(country) +   geom_sf(fill = \"cornsilk\", color = \"#887e6a\") +   labs(title = \"Map of Spain\") +   theme(     panel.background = element_rect(fill = \"#fffff3\"),     panel.border = element_rect(       colour = \"#887e6a\",       fill = NA,     ),     text = element_text(       family = \"serif\",       face = \"bold\"     )   ) # Plot provinces  Andalucia <- esp_get_prov(\"Andalucia\")  ggplot(Andalucia) +   geom_sf(fill = \"darkgreen\", color = \"white\") +   theme_bw() # Plot municipalities  Euskadi_CCAA <- esp_get_ccaa(\"Euskadi\") Euskadi <- esp_get_munic(region = \"Euskadi\")  # Use dictionary  Euskadi$name_eu <- esp_dict_translate(Euskadi$ine.prov.name, lang = \"eu\")  ggplot(Euskadi_CCAA) +   geom_sf(fill = \"grey50\") +   geom_sf(data = Euskadi, aes(fill = name_eu)) +   scale_fill_manual(values = c(\"red2\", \"darkgreen\", \"ivory2\")) +   labs(     fill = \"\",     title = \"Euskal Autonomia Erkidegoko\",     subtitle = \"Probintziak\"   ) +   theme_void() +   theme(     plot.title = element_text(face = \"bold\"),     plot.subtitle = element_text(face = \"italic\")   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"choropleth-and-label-maps","dir":"Articles","previous_headings":"","what":"Choropleth and label maps","title":"Get Started","text":"Let’s analyze distribution women autonomous community ggplot: Percentage women Autonomous Community (2019)","code":"census <- mapSpain::pobmun19  # Extract CCAA from base dataset  codelist <- mapSpain::esp_codelist  census <- unique(merge(census, codelist[, c(\"cpro\", \"codauto\")], all.x = TRUE))  # Summarize by CCAA census_ccaa <- aggregate(cbind(pob19, men, women) ~ codauto, data = census, sum)  census_ccaa$porc_women <- census_ccaa$women / census_ccaa$pob19 census_ccaa$porc_women_lab <- paste0(   round(100 * census_ccaa$porc_women, 2),   \"%\" )  # Merge into spatial data  CCAA_sf <- esp_get_ccaa() CCAA_sf <- merge(CCAA_sf, census_ccaa) Can <- esp_get_can_box()  ggplot(CCAA_sf) +   geom_sf(aes(fill = porc_women),     color = \"grey70\",     linewidth = .3   ) +   geom_sf(data = Can, color = \"grey70\") +   geom_sf_label(aes(label = porc_women_lab),     fill = \"white\", alpha = 0.5, size = 3, label.size = 0   ) +   scale_fill_gradientn(     colors = hcl.colors(10, \"Blues\", rev = TRUE),     n.breaks = 10,     labels = function(x) {       sprintf(\"%1.1f%%\", 100 * x)     },     guide = guide_legend(title = \"Porc. women\", position = \"inside\")   ) +   theme_void() +   theme(legend.position.inside = c(0.1, 0.6))"},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"thematic-maps","dir":"Articles","previous_headings":"","what":"Thematic maps","title":"Get Started","text":"example mapSpain can used beautiful thematic maps. plotting purposes use ggplot package, however package handles sf objects (e.g. tmap, mapsf, leaflet, etc. used). Population density Spain (2019)","code":"# Population density of Spain  library(sf)  pop <- mapSpain::pobmun19 munic <- esp_get_munic()  # Get area (km2) - Use LAEA projection municarea <- as.double(st_area(st_transform(munic, 3035)) / 1000000) munic$area <- municarea  munic.pop <- merge(munic, pop, all.x = TRUE, by = c(\"cpro\", \"cmun\")) munic.pop$dens <- munic.pop$pob19 / munic.pop$area  br <- c(-Inf, 10, 25, 100, 200, 500, 1000, 5000, 10000, Inf)   munic.pop$cuts <- cut(munic.pop$dens, br)  ggplot(munic.pop) +   geom_sf(aes(fill = cuts), color = NA, linewidth = 0) +   scale_fill_manual(     values = c(\"grey5\", hcl.colors(length(br) - 2, \"Spectral\")),     labels = prettyNum(c(0, br[-1]), big.mark = \",\"),     guide = guide_legend(title = \"Pop. per km2\", direction = \"horizontal\", nrow = 1)   ) +   labs(title = \"Population density in Spain (2019)\") +   theme_void() +   theme(     plot.title = element_text(hjust = .5),     plot.background = element_rect(fill = \"black\"),     text = element_text(colour = \"white\"),     legend.position = \"bottom\",     legend.title.position = \"top\",     legend.text.position = \"bottom\",     legend.key.width = unit(30, \"pt\")   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"mapspain-and-giscor","dir":"Articles","previous_headings":"","what":"mapSpain and giscoR","title":"Get Started","text":"need plot Spain along another countries, consider using giscoR package, installed dependency installed mapSpain. basic example: mapSpain giscoR example","code":"library(giscoR)  # Set the same resolution for a perfect fit  res <- \"20\"  all_countries <- gisco_get_countries(resolution = res) |>   st_transform(3035)  eu_countries <- gisco_get_countries(   resolution = res, region = \"EU\" ) |>   st_transform(3035)  ccaa <- esp_get_ccaa(   moveCAN = FALSE, resolution = res ) |>   st_transform(3035)  # Plot ggplot(all_countries) +   geom_sf(fill = \"#DFDFDF\", color = \"#656565\") +   geom_sf(data = eu_countries, fill = \"#FDFBEA\", color = \"#656565\") +   geom_sf(data = ccaa, fill = \"#C12838\", color = \"grey80\", linewidth = .1) +   # Center in Europe: EPSG 3035   coord_sf(     xlim = c(2377294, 7453440),     ylim = c(1313597, 5628510)   ) +   theme(     panel.background = element_blank(),     panel.grid = element_line(       colour = \"#DFDFDF\",       linetype = \"dotted\"     )   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/mapSpain.html","id":"working-with-tiles","dir":"Articles","previous_headings":"","what":"Working with tiles","title":"Get Started","text":"mapSpain provides powerful interface working imagery. mapSpain can download static files .png orjpeg files (depending Web Map Service) use along shapefiles. mapSpain also includes plugin R leaflet package, allows include several basemaps interactive maps. services implemented via leaflet plugin leaflet-providersESP. can check display provider previous link. Note working imagery, important set moveCAN = FALSE esp_get_* functions. See Displacing Canary Islands help(\"esp_get_ccaa\", package = \"mapSpain\").","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"static-tiles","dir":"Articles","previous_headings":"","what":"Static tiles","title":"Working with imagery","text":"example can include several tiles create static map. focus layer provided La Rioja’s Infraestructura de Datos Espaciales (IDERioja). working imagery, important set moveCAN = FALSE, otherwise images Canary Islands won’t accurate.","code":"library(mapSpain) library(sf) library(ggplot2) library(tidyterra)  # Logroño  lgn_borders <- esp_get_munic_siane(munic = \"Logroño\")  # Convert to Mercator (EPSG:3857) as a general advice when working with tiles lgn_borders <- st_transform(lgn_borders, 3857)  tile_lgn <- esp_getTiles(lgn_borders, \"IDErioja\", bbox_expand = 0.5)  ggplot(lgn_borders) +   geom_spatraster_rgb(data = tile_lgn) +   geom_sf(fill = NA, linewidth = 2, color = \"blue\")"},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"alpha-value-on-tiles","dir":"Articles","previous_headings":"Static tiles","what":"Alpha value on tiles","title":"Working with imagery","text":"tiles loaded without alpha value, controls transparency object:  Now let’s check code using tranparent = TRUE option:  Now two tiles overlaps desired alpha value.","code":"madrid <- esp_get_ccaa(\"Madrid\", epsg = 3857)  # Example without transparency  basemap <- esp_getTiles(madrid, \"IDErioja.Claro\",   zoommin = 1,   crop = TRUE, bbox_expand = 0 ) tile_opaque <- esp_getTiles(madrid, \"RedTransporte.Carreteras\",   transparent = FALSE, crop = TRUE, bbox_expand = 0 )  ggplot() +   geom_spatraster_rgb(data = basemap) +   geom_spatraster_rgb(data = tile_opaque) +   theme_void() # Example with transparency  tile_alpha <- esp_getTiles(madrid, \"RedTransporte.Carreteras\",   transparent = TRUE, crop = TRUE, bbox_expand = 0 )  # Same code than above for plotting ggplot() +   geom_spatraster_rgb(data = basemap) +   geom_spatraster_rgb(data = tile_alpha) +   theme_void()"},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"masking-tiles","dir":"Articles","previous_headings":"Static tiles","what":"Masking tiles","title":"Working with imagery","text":"Another nice feature ability masking tiles, advanced maps can plotted:","code":"rioja <- esp_get_prov(\"La Rioja\", epsg = 3857)  basemap <- esp_getTiles(rioja, \"PNOA\", bbox_expand = 0.1, zoommin = 1)  masked <- esp_getTiles(rioja, \"IDErioja\", mask = TRUE, zoommin = 1)  ggplot() +   geom_spatraster_rgb(data = basemap, maxcell = 10e6) +   geom_spatraster_rgb(data = masked, maxcell = 10e6)"},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"dynamic-maps-with-leaflet","dir":"Articles","previous_headings":"","what":"Dynamic maps with Leaflet","title":"Working with imagery","text":"mapSpain provides plugin used leaflet package. can find quick examples:","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"earthquakes-in-tenerife-last-year","dir":"Articles","previous_headings":"Dynamic maps with Leaflet","what":"Earthquakes in Tenerife (last year)","title":"Working with imagery","text":"","code":"library(leaflet)  tenerife_leaf <- esp_get_nuts(   region = \"Tenerife\", epsg = 4326,   moveCAN = FALSE )   bbox <- as.double(round(st_bbox(tenerife_leaf) + c(-1, -1, 1, 1), 2))  # Start leaflet m <- leaflet(tenerife_leaf,   elementId = \"tenerife-earthquakes\",   width = \"100%\", height = \"60vh\",   options = leafletOptions(minZoom = 9, maxZoom = 18) )  # Add layers m <- m %>%   addProviderEspTiles(\"IDErioja.Relieve\") %>%   addPolygons(color = NA, fillColor = \"red\", group = \"Polygon\") %>%   addProviderEspTiles(\"Geofisica.Terremotos365dias\",     group = \"Earthquakes\"   )  # Add additional options m %>%   addLayersControl(     overlayGroups = c(\"Polygon\", \"Earthquakes\"),     options = layersControlOptions(collapsed = FALSE)   ) %>%   setMaxBounds(bbox[1], bbox[2], bbox[3], bbox[4])"},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"population-density-in-spain","dir":"Articles","previous_headings":"Dynamic maps with Leaflet","what":"Population density in Spain","title":"Working with imagery","text":"map showing population density Spain 2019:","code":"munic <- esp_get_munic_siane(   year = 2019,   epsg = 4326,   moveCAN = FALSE,   rawcols = TRUE )  # Get area in km2 from siane munic # Already on the shapefile  munic$area_km2 <- munic$st_area_sh * 10000  # Get population  pop <- mapSpain::pobmun19  # Paste munic_pop <- merge(munic, pop[, c(\"cmun\", \"cpro\", \"pob19\")],   by = c(\"cmun\", \"cpro\"),   all.x = TRUE )  munic_pop$dens <- munic_pop$pob19 / munic_pop$area_km2 munic_pop$dens_label <- prettyNum(round(munic_pop$dens, 2),   big.mark = \".\",   decimal.mark = \",\" )  # Create leaflet bins <- c(0, 10, 25, 100, 200, 500, 1000, 5000, 10000, Inf)   pal <- colorBin(\"inferno\", domain = munic_pop$dens, bins = bins, reverse = TRUE)  labels <- sprintf(   \"<strong>%s<\/strong><br/><em>%s<\/em><br/>%s pers. / km<sup>2<\/sup>\",   munic_pop$rotulo,   munic_pop$ine.prov.name,   munic_pop$dens_label ) %>% lapply(htmltools::HTML)   leaflet(elementId = \"SpainDemo\", width = \"100%\", height = \"60vh\") %>%   setView(lng = -3.684444, lat = 40.308611, zoom = 5) %>%   addProviderEspTiles(\"IDErioja\") %>%   addPolygons(     data = munic_pop,     fillColor = ~ pal(dens),     fillOpacity = 0.6,     color = \"#44444\",     weight = 0.5,     smoothFactor = .1,     opacity = 1,     highlightOptions = highlightOptions(       color = \"white\",       weight = 1,       bringToFront = TRUE     ),     popup = labels   ) %>%   addLegend(     pal = pal, values = bins, opacity = 0.7,     title = paste0(       \"<small>Pop. Density km<sup>2<\/sup><\/small><br><small>\",       \"(2019)<\/small>\"     ),     position = \"bottomright\"   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"providers-available","dir":"Articles","previous_headings":"","what":"Providers available","title":"Working with imagery","text":"list esp_tiles_providers includes data available providers can use functions described . list includes parameters needed replicate API request. See static url provider:","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/working_imagery.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session info","title":"Working with imagery","text":"","code":"#> ─ Session info ─────────────────────────────────────────────────────────────── #>  setting  value #>  version  R version 4.5.1 (2025-06-13 ucrt) #>  os       Windows Server 2022 x64 (build 26100) #>  system   x86_64, mingw32 #>  ui       RTerm #>  language en #>  collate  English_United States.utf8 #>  ctype    English_United States.utf8 #>  tz       UTC #>  date     2025-10-14 #>  pandoc   3.1.11 @ C:/HOSTED~1/windows/pandoc/31F387~1.11/x64/PANDOC~1.11/ (via rmarkdown) #>  quarto   NA #>  #> ─ Packages ─────────────────────────────────────────────────────────────────── #>  package      * version date (UTC) lib source #>  bslib          0.9.0   2025-01-30 [1] RSPM #>  cachem         1.1.0   2024-05-16 [1] RSPM #>  class          7.3-23  2025-01-01 [3] CRAN (R 4.5.1) #>  classInt       0.4-11  2025-01-08 [1] RSPM #>  cli            3.6.5   2025-04-23 [1] RSPM #>  codetools      0.2-20  2024-03-31 [3] CRAN (R 4.5.1) #>  countrycode    1.6.1   2025-03-31 [1] RSPM #>  crosstalk      1.2.2   2025-08-26 [1] RSPM #>  DBI            1.2.3   2024-06-02 [1] RSPM #>  desc           1.4.3   2023-12-10 [1] RSPM #>  digest         0.6.37  2024-08-19 [1] RSPM #>  dplyr          1.1.4   2023-11-17 [1] RSPM #>  e1071          1.7-16  2024-09-16 [1] RSPM #>  evaluate       1.0.5   2025-08-27 [1] RSPM #>  farver         2.1.2   2024-05-13 [1] RSPM #>  fastmap        1.2.0   2024-05-15 [1] RSPM #>  fs             1.6.6   2025-04-12 [1] RSPM #>  generics       0.1.4   2025-05-09 [1] RSPM #>  geojsonsf      2.0.3   2022-05-30 [1] RSPM #>  ggplot2      * 4.0.0   2025-09-11 [1] RSPM #>  giscoR         0.6.1   2025-01-27 [1] RSPM #>  glue           1.8.0   2024-09-30 [1] RSPM #>  gtable         0.3.6   2024-10-25 [1] RSPM #>  htmltools      0.5.8.1 2024-04-04 [1] RSPM #>  htmlwidgets    1.6.4   2023-12-06 [1] RSPM #>  jquerylib      0.1.4   2021-04-26 [1] RSPM #>  jsonlite       2.0.0   2025-03-27 [1] RSPM #>  KernSmooth     2.23-26 2025-01-01 [3] CRAN (R 4.5.1) #>  knitr          1.50    2025-03-16 [1] RSPM #>  leaflet      * 2.2.3   2025-09-04 [1] RSPM #>  lifecycle      1.0.4   2023-11-07 [1] RSPM #>  magrittr       2.0.4   2025-09-12 [1] RSPM #>  mapSpain     * 0.10.0  2025-10-14 [1] local #>  pillar         1.11.1  2025-09-17 [1] RSPM #>  pkgconfig      2.0.3   2019-09-22 [1] RSPM #>  pkgdown        2.1.3   2025-05-25 [1] any (@2.1.3) #>  png            0.1-8   2022-11-29 [1] RSPM #>  proxy          0.4-27  2022-06-09 [1] RSPM #>  purrr          1.1.0   2025-07-10 [1] RSPM #>  R.cache        0.17.0  2025-05-02 [1] RSPM #>  R.methodsS3    1.8.2   2022-06-13 [1] RSPM #>  R.oo           1.27.1  2025-05-02 [1] RSPM #>  R.utils        2.13.0  2025-02-24 [1] RSPM #>  R6             2.6.1   2025-02-15 [1] RSPM #>  ragg           1.5.0   2025-09-02 [1] RSPM #>  RColorBrewer   1.1-3   2022-04-03 [1] RSPM #>  Rcpp           1.1.0   2025-07-02 [1] RSPM #>  reactable    * 0.4.4   2023-03-12 [1] RSPM #>  reactR         0.6.1   2024-09-14 [1] RSPM #>  rlang          1.1.6   2025-04-11 [1] RSPM #>  rmarkdown      2.30    2025-09-28 [1] RSPM #>  S7             0.2.0   2024-11-07 [1] RSPM #>  sass           0.4.10  2025-04-11 [1] RSPM #>  scales         1.4.0   2025-04-24 [1] RSPM #>  sessioninfo  * 1.2.3   2025-02-05 [1] RSPM #>  sf           * 1.0-21  2025-05-15 [1] RSPM #>  slippymath     0.3.1   2019-06-28 [1] RSPM #>  styler         1.10.3  2024-04-07 [1] RSPM #>  systemfonts    1.3.1   2025-10-01 [1] RSPM #>  terra          1.8-70  2025-09-27 [1] RSPM #>  textshaping    1.0.4   2025-10-10 [1] RSPM #>  tibble         3.3.0   2025-06-08 [1] RSPM #>  tidyr          1.3.1   2024-01-24 [1] RSPM #>  tidyselect     1.2.1   2024-03-11 [1] RSPM #>  tidyterra    * 0.7.2   2025-04-14 [1] RSPM #>  units          1.0-0   2025-10-09 [1] RSPM #>  vctrs          0.6.5   2023-12-01 [1] RSPM #>  viridisLite    0.4.2   2023-05-02 [1] RSPM #>  withr          3.0.2   2024-10-28 [1] RSPM #>  xfun           0.53    2025-08-19 [1] RSPM #>  yaml           2.3.10  2024-07-26 [1] RSPM #>  #>  [1] D:/a/_temp/Library #>  [2] C:/R/site-library #>  [3] C:/R/library #>  * ── Packages attached to the search path. #>  #> ──────────────────────────────────────────────────────────────────────────────"},{"path":[]},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"motivación","dir":"Articles","previous_headings":"Bienvenidos a mapSpain","what":"Motivación","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain facilita la creación de mapas de los diferentes niveles administrativos de España. Además, proporciona también la posibilidad de usar imágenes de servicios WMS/WMTS de manera estática (como imagen georeferenciada) o dinámica (en mapas leaflet). Adicionalmente, mapSpain dispone de funciones que permiten normalizar nombres de las CCAA y provincias, lo que facilita el proceso de manipulación y transformación de datos (necesariamente espaciales). Las fuentes de información empleadas en mapSpain son: GISCO (Eurostat) via el paquete giscoR. Instituto Geografico Nacional (IGN) Distintos organismos públicos de España que proporcionan servicios de teselas WMTS/WMS (https://www.idee.es/web/idee/segun-tipo-de-servicio). Los objetos resultantes se proporcionan en formato sf (librería sf) o SpatRaster(librería terra). Página web: https://ropenspain.github.io/mapSpain/","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"cran","dir":"Articles","previous_headings":"Bienvenidos a mapSpain > Instalación","what":"CRAN","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"install.packages(\"mapSpain\", dependencies = TRUE)"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"dev-version","dir":"Articles","previous_headings":"Bienvenidos a mapSpain > Instalación","what":"Dev version","title":"mapSpain: Mapas de España en R [Spanish]","text":"Usando el r-universe:","code":"# Enable this universe install.packages(\"mapSpain\",   repos = c(     \"https://ropenspain.r-universe.dev\",     \"https://cloud.r-project.org\"   ),   dependencies = TRUE )"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"con-pak-desde-github","dir":"Articles","previous_headings":"Bienvenidos a mapSpain > Instalación","what":"Con pak (desde GitHub)","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"# install.packages(\"pak\") pak::pak(\"rOpenSpain/mapSpain\", dependencies = TRUE)"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"un-ejemplo-rápido","dir":"Articles","previous_headings":"Bienvenidos a mapSpain","what":"Un ejemplo rápido","title":"mapSpain: Mapas de España en R [Spanish]","text":"Si exploramos el dataset:","code":"library(mapSpain) library(tidyverse)  galicia <- esp_get_munic_siane(region = \"Galicia\") %>%   # Homogeinizo labels   mutate(Provincia = esp_dict_translate(ine.prov.name, \"es\"))   ggplot(galicia) +   geom_sf(aes(fill = Provincia), color = \"grey70\") +   labs(title = \"Provincias de Galicia\") +   scale_fill_discrete(type = hcl.colors(4, \"Blues\")) +   theme_bw() library(reactable)  reactable(galicia,   searchable = TRUE, striped = TRUE, filterable = TRUE, height = 350,   elementId = \"munis-galicia\" )"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"comparando-mapspain-con-otras-alternativas","dir":"Articles","previous_headings":"Bienvenidos a mapSpain","what":"Comparando mapSpain con otras alternativas","title":"mapSpain: Mapas de España en R [Spanish]","text":"Comparamos ahora mapSpain con otro paquete que proporciona objetos sf o SpatVector de distintos paises:  rnaturalearth: capta bien el contorno. mapSpain: Resultados satisfactorios. GADM (libería geodata): Resultados muy precisos.","code":"library(sf) # manipulación de datos espaciales  # rnaturalearth library(rnaturalearth) esp_rnat <- ne_countries(\"large\", country = \"Spain\", returnclass = \"sf\") %>%   st_transform(3857)  # mapSpain esp_mapspain <- esp_get_country(epsg = 4326) %>%   st_transform(3857)  # geodata (GADM) library(geodata) esp_geodata <- geodata::gadm(\"ES\", path = \".\", level = 0) %>%   # Convertimos de SpatVector a objecto sf   sf::st_as_sf() %>%   st_transform(3857)  # Imagen Ria Ferrol tile <- esp_get_munic_siane(munic = \"Ferrol\", epsg = 3857) %>%   esp_getTiles(\"PNOA\", bbox_expand = 0.5, zoommin = 1)  # Prepara el plot library(tidyterra)   esp_all <- bind_rows(esp_rnat, esp_mapspain, esp_geodata)  esp_all$source <- as_factor(c(   \"rnaturalearth\",   \"mapSpain\", \"geodata (GADM)\" ))  ggplot(esp_all) +   geom_spatraster_rgb(data = tile, maxcell = Inf, alpha = 0.5) +   geom_sf(aes(color = source, linetype = source),     fill = NA, show.legend = \"line\",     linewidth = 0.5, alpha = 0.7   ) +   coord_sf(     crs = 4326, xlim = c(-8.384421, -8.154413), ylim = c(43.43201, 43.59545),     expand = FALSE   ) +   scale_color_manual(values = c(\"red\", \"black\", \"blue\")) +   scale_linetype_manual(values = c(\"solid\", \"dotted\", \"dashed\")) +   theme_void() +   labs(title = \"Ría de Ferrol\")"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"almacenamiento","dir":"Articles","previous_headings":"Bienvenidos a mapSpain","what":"Almacenamiento","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain es un paquete API que usa recursos web. El comportamiento por defecto consiste en descargar archivos al directorio temporal tempdir() para su uso posterior durante la sesión. La función esp_set_cache_dir() permite modificar este comportamiento, estableciendo un directorio de descarga específico para el usuario. Para hacer esta configuración persistente se puede emplear el parámetro install = TRUE","code":"esp_set_cache_dir(\"~/R/mapslib/mapSpain\", install = TRUE, verbose = TRUE)  #> mapSpain cache dir is: C:/Users/xxxxx/Documents/R/mapslib/mapSpain  munic <- esp_get_munic_siane(verbose = TRUE)  #> Cache dir is C:/Users/xxxxx/Documents/R/mapslib/mapSpain #> Downloading file from https://github.com/rOpenSpain/mapSpain/raw/sianedata/dist/se89_3_admin_muni_a_x.gpkg  #> See https://github.com/rOpenSpain/mapSpain/tree/sianedata/ for more info #> trying URL 'https://github.com/rOpenSpain/mapSpain/raw/sianedata/dist/se89_3_admin_muni_a_x.gpkg' #> Content type 'application/octet-stream' length 5570560 bytes (5.3 MB) #> downloaded 5.3 MB  #> Download succesful #> Reading from local file #> C:/Users/xxxxx/Documents/R/mapslib/mapSpain/se89_3_admin_muni_a_x.gpkg #> 5.3 Mb"},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"funciones-para-trabajar-con-strings","dir":"Articles","previous_headings":"Diccionario","what":"Funciones para trabajar con strings","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain proporciona dos funciones relacionadas para trabajar con textos y códigos: ISO2 NUTS INE (codauto y cpro) Castellano Inglés Catalán Gallego Vasco Estas funciones pueden ser de utilidad en ámbitos más amplios que necesiten homogeneizar códigos de CCAA y Provincias (Datos COVID ISCII, etc).","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"esp_dict_region_code","dir":"Articles","previous_headings":"Diccionario > Funciones para trabajar con strings","what":"esp_dict_region_code()","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"vals <- c(\"Errioxa\", \"Coruna\", \"Gerona\", \"Madrid\")  esp_dict_region_code(vals, destination = \"nuts\") #> [1] \"ES23\"  \"ES111\" \"ES512\" \"ES30\" esp_dict_region_code(vals, destination = \"cpro\") #> [1] \"26\" \"15\" \"17\" \"28\" esp_dict_region_code(vals, destination = \"iso2\") #> [1] \"ES-RI\" \"ES-C\"  \"ES-GI\" \"ES-MD\"  # Desde ISO a otros códigos  iso2vals <- c(\"ES-M\", \"ES-S\", \"ES-SG\") esp_dict_region_code(iso2vals, origin = \"iso2\") #> [1] \"Madrid\"    \"Cantabria\" \"Segovia\"  iso2vals <- c(\"ES-GA\", \"ES-CT\", \"ES-PV\")  esp_dict_region_code(iso2vals, origin = \"iso2\", destination = \"nuts\") #> [1] \"ES11\" \"ES51\" \"ES21\"  # Soporta diferentes niveles valsmix <- c(\"Centro\", \"Andalucia\", \"Seville\", \"Menorca\") esp_dict_region_code(valsmix, destination = \"nuts\") #> [1] \"ES4\"   \"ES61\"  \"ES618\" \"ES533\"  esp_dict_region_code(c(\"Murcia\", \"Las Palmas\", \"Aragón\"), destination = \"iso2\") #> [1] \"ES-MC\" \"ES-GC\" \"ES-AR\""},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"esp_dict_translate","dir":"Articles","previous_headings":"Diccionario > Funciones para trabajar con strings","what":"esp_dict_translate()","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"vals <- c(\"La Rioja\", \"Sevilla\", \"Madrid\", \"Jaen\", \"Orense\", \"Baleares\")  esp_dict_translate(vals, lang = \"en\") #> [1] \"La Rioja\"         \"Seville\"          \"Madrid\"           \"Jaén\"             #> [5] \"Ourense\"          \"Balearic Islands\" esp_dict_translate(vals, lang = \"es\") #> [1] \"La Rioja\" \"Sevilla\"  \"Madrid\"   \"Jaén\"     \"Orense\"   \"Baleares\" esp_dict_translate(vals, lang = \"ca\") #> [1] \"La Rioja\"      \"Sevilla\"       \"Madrid\"        \"Jaén\"          #> [5] \"Ourense\"       \"Illes Balears\"   esp_dict_translate(vals, lang = \"eu\") #> [1] \"Errioxa\"         \"Sevilla\"         \"Madril\"          \"Jaén\"            #> [5] \"Ourense\"         \"Balear Uharteak\" esp_dict_translate(vals, lang = \"ga\") #> [1] \"A Rioxa\"        \"Sevilla\"        \"Madrid\"         \"Xaén\"           #> [5] \"Ourense\"        \"Illas Baleares\""},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"límites-políticos","dir":"Articles","previous_headings":"","what":"Límites políticos","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain contiene un set de funciones que permiten obtener límites políticos diferentes niveles: Todo el país NUTS (Eurostat): Clasificación estadística de Eurostat. Niveles 0 (país), 1, 2 (CCAA) y 3. CCAA Provincias Municipios Para CCAA, Provinicas y Municipios hay dos versiones: esp_get_xxxx() (fuente: GISCO) y esp_get_xxxx_siane() (fuente: IGN). La información se proporciona en diferentes proyecciones y niveles de resolución.","code":"esp <- esp_get_country(moveCAN = FALSE)  ggplot(esp) +   geom_sf(fill = \"#f9cd94\") +   theme_light()"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"el-caso-canarias","dir":"Articles","previous_headings":"Límites políticos","what":"El caso Canarias","title":"mapSpain: Mapas de España en R [Spanish]","text":"Por defecto, mapSpain “desplaza” Canarias para una mejor visualización en la mayoría de sus funciones. Este comportamiento se puede desactivar usando moveCAN = FALSE(ver anterior ejemplo). Proporcionamos funciones adicionales que permiten representar lineas alrededor de la inserción del mapa (ejemplos).  Cuando se trabaja con imágenes, mapas interactivos o se desean realizar analisis espaciales, se debe usar moveCAN = FALSE","code":"esp_can <- esp_get_country() can_prov <- esp_get_can_provinces() can_box <- esp_get_can_box()  ggplot(esp_can) +   geom_sf() +   geom_sf(data = can_prov) +   geom_sf(data = can_box)"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"nuts","dir":"Articles","previous_headings":"Límites políticos","what":"NUTS","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"nuts1 <- esp_get_nuts(resolution = 20, epsg = 3035, nuts_level = 1)  ggplot(nuts1) +   geom_sf() +   labs(title = \"NUTS1: Baja Resolución\") # Baleares NUTS3 nuts3_baleares <- c(\"ES531\", \"ES532\", \"ES533\") paste(esp_dict_region_code(nuts3_baleares, \"nuts\"), collapse = \", \") #> [1] \"Eivissa y Formentera, Mallorca, Menorca\"  nuts3_sf <- esp_get_nuts(region = nuts3_baleares)  ggplot(nuts3_sf) +   geom_sf(aes(fill = NAME_LATN)) +   labs(fill = \"Baleares: NUTS3\") +   scale_fill_viridis_d() +   theme_minimal()"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"ccaa","dir":"Articles","previous_headings":"Límites políticos","what":"CCAA","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"ccaa <- esp_get_ccaa(ccaa = c(   \"Catalunya\", \"Comunidad Valenciana\", \"Aragón\",   \"Baleares\" ))  ccaa <- ccaa %>%   mutate(ccaa_cat = esp_dict_translate(ine.ccaa.name, \"ca\"))  ggplot(ccaa) +   geom_sf(aes(fill = ccaa_cat)) +   labs(fill = \"Comunitats autònomes\") +   theme_minimal() +   scale_fill_discrete(type = hcl.colors(4, \"Plasma\"))"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"provincias-usando-versión-_siane","dir":"Articles","previous_headings":"Límites políticos","what":"Provincias (usando versión *_siane)","title":"mapSpain: Mapas de España en R [Spanish]","text":"Si pasamos una entidad de orden superior (e.g. Andalucia) obtenemos todas las provincias de esa entidad.","code":"provs <- esp_get_prov_siane(c(   \"Andalucía\", \"Ciudad Real\", \"Murcia\", \"Ceuta\",   \"Melilla\" ))  ggplot(provs) +   geom_sf(aes(fill = prov.shortname.es), alpha = 0.9) +   scale_fill_discrete(type = hcl.colors(12, \"Cividis\")) +   theme_minimal() +   labs(fill = \"Provincias\")"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"municipios","dir":"Articles","previous_headings":"Límites políticos","what":"Municipios","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"munic <- esp_get_munic(region = \"Segovia\") %>%   # Datos de ejemplo: Población INE   left_join(mapSpain::pobmun19, by = c(\"cpro\", \"cmun\"))  ggplot(munic) +   geom_sf(aes(fill = pob19), alpha = 0.9, color = NA) +   scale_fill_gradientn(     colors = hcl.colors(100, \"Inferno\"),     n.breaks = 10, labels = scales::label_comma(),     guide = guide_legend()   ) +   labs(     fill = \"Habitantes\", title = \"Población en Segovia\",     subtitle = \"Datos INE (2019)\"   ) +   theme_void() +   theme(     plot.background = element_rect(\"grey80\"),     text = element_text(face = \"bold\"),     plot.title = element_text(hjust = .5),     plot.subtitle = element_text(hjust = .5)   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"hexbin-maps","dir":"Articles","previous_headings":"Límites políticos","what":"Hexbin maps","title":"mapSpain: Mapas de España en R [Spanish]","text":"Disponibles como cuadrados y hexágonos, para provincias y CCAA.","code":"cuad <- esp_get_hex_ccaa() hex <- esp_get_grid_prov()  ggplot(cuad) +   geom_sf() +   geom_sf_text(aes(label = iso2.ccaa.code)) +   theme_void()    ggplot(hex) +   geom_sf() +   geom_sf_text(aes(label = iso2.prov.code)) +   theme_void()"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"imágenes","dir":"Articles","previous_headings":"","what":"Imágenes","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain permite usar también imágenes de mapas (satélite, mapas base, carreteras, etc.) proporcionados por diferentes organísmos públicos (https://www.idee.es/web/idee/segun-tipo-de-servicio). Las imágenes se pueden emplear para la creación de mapas estáticos (imágenes obtenidas como capas ráster de 3 o 4 bandas) o como fondo de mapas dinámicos, través del paquete leaflet. Los proveedores se han extraido del plugin para leaflet leaflet-providerESP.","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"creación-de-mapas-estáticos","dir":"Articles","previous_headings":"Imágenes","what":"Creación de mapas estáticos","title":"mapSpain: Mapas de España en R [Spanish]","text":"Tenemos varias opciones que podemos emplear para componer mapas base:","code":"madrid_munis <- esp_get_munic_siane(region = \"Madrid\", epsg = 3857) base_pnoa <- esp_getTiles(madrid_munis, \"PNOA\",   bbox_expand = 0.1,   zoommin = 1 )  library(tidyterra)  ggplot() +   geom_spatraster_rgb(data = base_pnoa) +   geom_sf(     data = madrid_munis, color = \"blue\", fill = \"blue\",     alpha = 0.25, linewidth = 0.5   ) +   theme_minimal() +   labs(title = \"Municipios en Madrid\") # Usando la opción mask madrid <- esp_get_munic_siane(munic = \"^Madrid$\", epsg = 3857)  madrid_mask <- esp_getTiles(madrid, \"IDErioja.Claro\",   mask = TRUE, crop = TRUE, zoommin = 2 )   ggplot() +   geom_spatraster_rgb(data = madrid_mask) +   theme_void() +   labs(     title = \"Mapa Base de Madrid\",     caption = \"CC BY 4.0 www.iderioja.org\"   )"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"mapas-dinámicos-usando-mapspain","dir":"Articles","previous_headings":"Imágenes","what":"Mapas dinámicos usando mapSpain","title":"mapSpain: Mapas de España en R [Spanish]","text":"Estas capas se pueden usar también como fondo en mapas estáticos","code":"stations <- esp_get_railway(spatialtype = \"point\", epsg = 4326)  library(leaflet) # Creamos icono  iconurl <- paste0(   \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/\",   \"Map_icons_by_Scott_de_Jonge_-_train-station.svg/480px-Map_\",   \"icons_by_Scott_de_Jonge_-_train-station.svg.png\" )  train_icon <- makeIcon(iconurl, iconurl, 18, 18)   leaflet(stations,   elementId = \"railway\",   width = \"100%\",   height = \"60vh\" ) %>%   addProviderEspTiles(\"IDErioja.Claro\", group = \"Base\") %>%   addProviderEspTiles(\"MTN\", group = \"MTN\") %>%   addProviderEspTiles(\"RedTransporte.Carreteras\",     group = \"Carreteras\"   ) %>%   addProviderEspTiles(\"RedTransporte.Ferroviario\",     group = \"Lineas Ferroviarias\"   ) %>%   addMarkers(     icon = train_icon,     group = \"Estaciones\",     popup = sprintf(       \"<strong>%s<\/strong>\",       stations$rotulo     ) %>%       lapply(htmltools::HTML)   ) %>%   addLayersControl(     baseGroups = c(\"Base\", \"MTN\"),     overlayGroups = c(\"Estaciones\", \"Lineas Ferroviarias\", \"Carreteras\"),     options = layersControlOptions(collapsed = FALSE)   ) %>%   hideGroup(c(\"Lineas Ferroviarias\", \"Carreteras\"))"},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"otros-recursos","dir":"Articles","previous_headings":"","what":"Otros recursos","title":"mapSpain: Mapas de España en R [Spanish]","text":"mapSpain incluye otras funciones adicionales que permiten extraer información sobre altitud, rios y cuencas hidrográficas de España, así líneas y puntos de infraestructuras de España, como carreteras y líneas ferroviarias.","code":""},{"path":"https://ropenspain.github.io/mapSpain/articles/x02_mapasesp.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session info","title":"mapSpain: Mapas de España en R [Spanish]","text":"","code":"#> ─ Session info ─────────────────────────────────────────────────────────────── #>  setting  value #>  version  R version 4.5.1 (2025-06-13 ucrt) #>  os       Windows Server 2022 x64 (build 26100) #>  system   x86_64, mingw32 #>  ui       RTerm #>  language en #>  collate  English_United States.utf8 #>  ctype    English_United States.utf8 #>  tz       UTC #>  date     2025-10-14 #>  pandoc   3.1.11 @ C:/HOSTED~1/windows/pandoc/31F387~1.11/x64/PANDOC~1.11/ (via rmarkdown) #>  quarto   NA #>  #> ─ Packages ─────────────────────────────────────────────────────────────────── #>  package            * version    date (UTC) lib source #>  bslib                0.9.0      2025-01-30 [1] RSPM #>  cachem               1.1.0      2024-05-16 [1] RSPM #>  class                7.3-23     2025-01-01 [3] CRAN (R 4.5.1) #>  classInt             0.4-11     2025-01-08 [1] RSPM #>  cli                  3.6.5      2025-04-23 [1] RSPM #>  codetools            0.2-20     2024-03-31 [3] CRAN (R 4.5.1) #>  countrycode          1.6.1      2025-03-31 [1] RSPM #>  crosstalk            1.2.2      2025-08-26 [1] RSPM #>  DBI                  1.2.3      2024-06-02 [1] RSPM #>  desc                 1.4.3      2023-12-10 [1] RSPM #>  digest               0.6.37     2024-08-19 [1] RSPM #>  dplyr              * 1.1.4      2023-11-17 [1] RSPM #>  e1071                1.7-16     2024-09-16 [1] RSPM #>  evaluate             1.0.5      2025-08-27 [1] RSPM #>  farver               2.1.2      2024-05-13 [1] RSPM #>  fastmap              1.2.0      2024-05-15 [1] RSPM #>  forcats            * 1.0.1      2025-09-25 [1] RSPM #>  fs                   1.6.6      2025-04-12 [1] RSPM #>  generics             0.1.4      2025-05-09 [1] RSPM #>  geodata            * 0.6-6      2025-09-30 [1] RSPM #>  geojsonsf            2.0.3      2022-05-30 [1] RSPM #>  ggplot2            * 4.0.0      2025-09-11 [1] RSPM #>  giscoR               0.6.1      2025-01-27 [1] RSPM #>  glue                 1.8.0      2024-09-30 [1] RSPM #>  gtable               0.3.6      2024-10-25 [1] RSPM #>  hms                  1.1.3      2023-03-21 [1] RSPM #>  htmltools            0.5.8.1    2024-04-04 [1] RSPM #>  htmlwidgets          1.6.4      2023-12-06 [1] RSPM #>  jquerylib            0.1.4      2021-04-26 [1] RSPM #>  jsonlite             2.0.0      2025-03-27 [1] RSPM #>  KernSmooth           2.23-26    2025-01-01 [3] CRAN (R 4.5.1) #>  knitr                1.50       2025-03-16 [1] RSPM #>  labeling             0.4.3      2023-08-29 [1] RSPM #>  leaflet            * 2.2.3      2025-09-04 [1] RSPM #>  lifecycle            1.0.4      2023-11-07 [1] RSPM #>  lubridate          * 1.9.4      2024-12-08 [1] RSPM #>  magrittr             2.0.4      2025-09-12 [1] RSPM #>  mapSpain           * 0.10.0     2025-10-14 [1] local #>  pillar               1.11.1     2025-09-17 [1] RSPM #>  pkgconfig            2.0.3      2019-09-22 [1] RSPM #>  pkgdown              2.1.3      2025-05-25 [1] any (@2.1.3) #>  png                  0.1-8      2022-11-29 [1] RSPM #>  proxy                0.4-27     2022-06-09 [1] RSPM #>  purrr              * 1.1.0      2025-07-10 [1] RSPM #>  R.cache              0.17.0     2025-05-02 [1] RSPM #>  R.methodsS3          1.8.2      2022-06-13 [1] RSPM #>  R.oo                 1.27.1     2025-05-02 [1] RSPM #>  R.utils              2.13.0     2025-02-24 [1] RSPM #>  R6                   2.6.1      2025-02-15 [1] RSPM #>  ragg                 1.5.0      2025-09-02 [1] RSPM #>  rappdirs             0.3.3      2021-01-31 [1] RSPM #>  RColorBrewer         1.1-3      2022-04-03 [1] RSPM #>  Rcpp                 1.1.0      2025-07-02 [1] RSPM #>  reactable          * 0.4.4      2023-03-12 [1] RSPM #>  reactR               0.6.1      2024-09-14 [1] RSPM #>  readr              * 2.1.5      2024-01-10 [1] RSPM #>  rlang                1.1.6      2025-04-11 [1] RSPM #>  rmarkdown            2.30       2025-09-28 [1] RSPM #>  rnaturalearth      * 1.1.0      2025-07-28 [1] RSPM #>  rnaturalearthhires   1.0.0.9000 2025-10-14 [1] Github (ropensci/rnaturalearthhires@e4736f6) #>  S7                   0.2.0      2024-11-07 [1] RSPM #>  sass                 0.4.10     2025-04-11 [1] RSPM #>  scales               1.4.0      2025-04-24 [1] RSPM #>  sessioninfo        * 1.2.3      2025-02-05 [1] RSPM #>  sf                 * 1.0-21     2025-05-15 [1] RSPM #>  slippymath           0.3.1      2019-06-28 [1] RSPM #>  stringi              1.8.7      2025-03-27 [1] RSPM #>  stringr            * 1.5.2      2025-09-08 [1] RSPM #>  styler               1.10.3     2024-04-07 [1] RSPM #>  systemfonts          1.3.1      2025-10-01 [1] RSPM #>  terra              * 1.8-70     2025-09-27 [1] RSPM #>  textshaping          1.0.4      2025-10-10 [1] RSPM #>  tibble             * 3.3.0      2025-06-08 [1] RSPM #>  tidyr              * 1.3.1      2024-01-24 [1] RSPM #>  tidyselect           1.2.1      2024-03-11 [1] RSPM #>  tidyterra          * 0.7.2      2025-04-14 [1] RSPM #>  tidyverse          * 2.0.0      2023-02-22 [1] any (@2.0.0) #>  timechange           0.3.0      2024-01-18 [1] RSPM #>  tzdb                 0.5.0      2025-03-15 [1] RSPM #>  units                1.0-0      2025-10-09 [1] RSPM #>  vctrs                0.6.5      2023-12-01 [1] RSPM #>  viridisLite          0.4.2      2023-05-02 [1] RSPM #>  withr                3.0.2      2024-10-28 [1] RSPM #>  xfun                 0.53       2025-08-19 [1] RSPM #>  yaml                 2.3.10     2024-07-26 [1] RSPM #>  #>  [1] D:/a/_temp/Library #>  [2] C:/R/site-library #>  [3] C:/R/library #>  * ── Packages attached to the search path. #>  #> ──────────────────────────────────────────────────────────────────────────────"},{"path":"https://ropenspain.github.io/mapSpain/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Diego Hernangómez. Author, maintainer, copyright holder.","code":""},{"path":"https://ropenspain.github.io/mapSpain/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hernangómez D (2025). mapSpain: Administrative Boundaries Spain. doi:10.5281/zenodo.5366622, https://ropenspain.github.io/mapSpain/.","code":"@Manual{R-mapspain,   title = {{mapSpain}: Administrative Boundaries of Spain},   year = {2025},   version = {0.10.0},   author = {Diego Hernangómez},   doi = {10.5281/zenodo.5366622},   url = {https://ropenspain.github.io/mapSpain/},   abstract = {Administrative Boundaries of Spain at several levels (Autonomous Communities, Provinces, Municipalities) based on the GISCO Eurostat database <https://ec.europa.eu/eurostat/web/gisco> and CartoBase SIANE from Instituto Geografico Nacional <https://www.ign.es/>. It also provides a leaflet plugin and the ability of downloading and processing static tiles.}, }"},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"CONTRIBUTING","text":"Small typos grammatical errors documentation may edited directly using GitHub web interface, long changes made source file. YES ✔️: edit roxygen comment .R file R/. ❌: edit .Rd file man/.","code":""},{"path":"https://ropenspain.github.io/mapSpain/CONTRIBUTING.html","id":"prerequisites","dir":"","previous_headings":"","what":"Prerequisites","title":"CONTRIBUTING","text":"make substantial pull request, always file issue make sure someone team agrees ’s problem. ’ve found bug, create associated issue illustrate bug minimal reprex.","code":""},{"path":"https://ropenspain.github.io/mapSpain/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"","what":"Pull request process","title":"CONTRIBUTING","text":"recommend create Git branch pull request (PR). Look R-CMD-check build status . making changes, run devtools::check() ensure new Notes, Warnings Errors appearing. recommend tidyverse style guide. also use styler package apply styles, please don’t restyle code nothing PR. use roxygen2. use testthat. Contributions test cases included easier accept. user-facing changes, add bullet top NEWS.md current development version header describing changes made followed GitHub username, links relevant issue(s)/PR(s).","code":""},{"path":"https://ropenspain.github.io/mapSpain/CONTRIBUTING.html","id":"prefer-to-email","dir":"","previous_headings":"","what":"Prefer to Email?","title":"CONTRIBUTING","text":"Email person listed maintainer DESCRIPTION file repo. Though note private discussions email don’t help others - course email totally warranted ’s sensitive problem kind.","code":""},{"path":"https://ropenspain.github.io/mapSpain/CONTRIBUTING.html","id":"thanks-for-contributing","dir":"","previous_headings":"","what":"Thanks for contributing!","title":"CONTRIBUTING","text":"contributing guide adapted tidyverse contributing guide available https://raw.githubusercontent.com/r-lib/usethis/master/inst/templates/tidy-contributing.md","code":""},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"mapspain-","dir":"","previous_headings":"","what":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"mapSpain package provides spatial sf objects administrative boundaries Spain, including CCAA, provinces municipalities. mapSpain also provides leaflet plugin used leaflet package, loads several base maps public institutions Spain, ability downloading processing static tiles. Full site examples vignettes https://ropenspain.github.io/mapSpain/","code":""},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"Install mapSpain CRAN: can install developing version mapSpain using r-universe: Alternatively, can install developing version mapSpain :","code":"install.packages(\"mapSpain\", dependencies = TRUE) # Install mapSpain in R: install.packages(\"mapSpain\",   repos = c(     \"https://ropenspain.r-universe.dev\",     \"https://cloud.r-project.org\"   ),   dependencies = TRUE ) # install.packages(\"pak\") pak::pak(\"rOpenSpain/mapSpain\", dependencies = TRUE)"},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"script highlights features mapSpain :  can combine sf objects static tiles","code":"library(mapSpain) library(sf) library(dplyr) census <- mapSpain::pobmun19  # Extract CCAA from base dataset  codelist <- mapSpain::esp_codelist %>%   select(cpro, codauto) %>%   distinct()  census_ccaa <- census %>%   left_join(codelist) %>%   # Summarize by CCAA   group_by(codauto) %>%   summarise(pob19 = sum(pob19), men = sum(men), women = sum(women)) %>%   mutate(     porc_women = women / pob19,     porc_women_lab = paste0(round(100 * porc_women, 2), \"%\")   )   # Merge into spatial data  ccaa_sf <- esp_get_ccaa() %>%   left_join(census_ccaa) can <- esp_get_can_box()   # Plot with ggplot library(ggplot2)   ggplot(ccaa_sf) +   geom_sf(aes(fill = porc_women), color = \"grey70\", linewidth = .3) +   geom_sf(data = can, color = \"grey70\") +   geom_sf_label(aes(label = porc_women_lab),     fill = \"white\", alpha = 0.5,     size = 3, label.size = 0   ) +   scale_fill_gradientn(     colors = hcl.colors(10, \"Blues\", rev = TRUE),     n.breaks = 10, labels = scales::label_percent(),     guide = guide_legend(title = \"Porc. women\", position = \"inside\")   ) +   theme_void() +   theme(legend.position.inside = c(0.1, 0.6)) # Get census census <- mapSpain::pobmun19 %>%   mutate(porc_women = women / pob19) %>%   select(cpro, cmun, porc_women)  # Get shapes shape <- esp_get_munic_siane(region = \"Segovia\", epsg = 3857) provs <- esp_get_prov_siane(epsg = 3857)  shape_pop <- shape %>% left_join(census)   tile <- esp_getTiles(shape_pop, type = \"IDErioja.Relieve\", zoommin = 1)  # Plot  library(ggplot2) library(tidyterra)  lims <- as.vector(terra::ext(tile))  ggplot(remove_missing(shape_pop, na.rm = TRUE)) +   geom_spatraster_rgb(data = tile, maxcell = 10e6) +   geom_sf(aes(fill = porc_women), color = NA) +   geom_sf(data = provs, fill = NA) +   scale_fill_gradientn(     colours = hcl.colors(10, \"RdYlBu\", alpha = .5),     n.breaks = 8,     labels = function(x) {       sprintf(\"%1.0f%%\", 100 * x)     },     guide = guide_legend(title = \"\", )   ) +   coord_sf(     xlim = lims[c(1, 2)],     ylim = lims[c(3, 4)],     expand = FALSE   ) +   labs(     title = \"Share of women in Segovia by town (2019)\",     caption = \"Source: INE, CC BY 4.0 www.iderioja.org\"   ) +   theme_void() +   theme(     title = element_text(face = \"bold\")   )"},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"mapspain-and-giscor","dir":"","previous_headings":"","what":"mapSpain and giscoR","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"need plot Spain along another countries, consider using giscoR package, installed dependency installed mapSpain. basic example:","code":"library(giscoR)  # Set the same resolution for a perfect fit  res <- \"20\"  all_countries <- gisco_get_countries(resolution = res) %>%   st_transform(3035)  eu_countries <- gisco_get_countries(resolution = res, region = \"EU\") %>%   st_transform(3035)  ccaa <- esp_get_ccaa(moveCAN = FALSE, resolution = res) %>%   st_transform(3035)  library(ggplot2)  ggplot(all_countries) +   geom_sf(fill = \"#DFDFDF\", color = \"#656565\") +   geom_sf(data = eu_countries, fill = \"#FDFBEA\", color = \"#656565\") +   geom_sf(data = ccaa, fill = \"#C12838\", color = \"grey80\", linewidth = .1) +   # Center in Europe: EPSG 3035   coord_sf(xlim = c(2377294, 7453440), ylim = c(1313597, 5628510)) +   theme(     panel.background = element_blank(),     panel.grid = element_line(colour = \"#DFDFDF\", linetype = \"dotted\")   )"},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"a-note-on-caching","dir":"","previous_headings":"","what":"A note on caching","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"data sets tiles may size larger 50MB. can use mapSpain create local repository given local directory passing following option: option set, mapSpain look cached file load , speeding process.","code":"esp_set_cache_dir(\"./path/to/location\")"},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"plotting-sf-objects","dir":"","previous_headings":"","what":"Plotting sf objects","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"packages recommended visualization : tmap mapsf ggplot2 + tidyterra. leaflet","code":""},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"Hernangómez D (2025). mapSpain: Administrative Boundaries Spain. doi:10.5281/zenodo.5366622, https://ropenspain.github.io/mapSpain/. BibTeX entry LaTeX users :","code":"@Manual{R-mapspain,   title = {{mapSpain}: Administrative Boundaries of Spain},   year = {2025},   version = {0.10.0},   author = {Diego Hernangómez},   doi = {10.5281/zenodo.5366622},   url = {https://ropenspain.github.io/mapSpain/},   abstract = {Administrative Boundaries of Spain at several levels (Autonomous Communities, Provinces, Municipalities) based on the GISCO Eurostat database <https://ec.europa.eu/eurostat/web/gisco> and CartoBase SIANE from Instituto Geografico Nacional <https://www.ign.es/>. It also provides a leaflet plugin and the ability of downloading and processing static tiles.}, }"},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"contribute","dir":"","previous_headings":"","what":"Contribute","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"Check GitHub page source code.","code":""},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"copyright-notice","dir":"","previous_headings":"","what":"Copyright notice","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"package uses data CartoBase SIANE, provided Instituto Geográfico Nacional: Atlas Nacional de España (ANE) CC 4.0 ign.es See https://github.com/rOpenSpain/mapSpain/tree/sianedata package uses data GISCO. GISCO (FAQ) geospatial open data repository including several data sets several resolution levels. GISCO > Geodata > Reference data > Administrative Units / Statistical Units data downloaded page used printed electronic publication, addition provisions applicable whole Eurostat website, data source acknowledged legend map introductory page publication following copyright notice: EN: © EuroGeographics administrative boundaries FR: © EuroGeographics pour les limites administratives DE: © EuroGeographics bezüglich der Verwaltungsgrenzen publications languages English, French German, translation copyright notice language publication shall used. intend use data commercially, please contact EuroGeographics information regarding license agreements.","code":""},{"path":"https://ropenspain.github.io/mapSpain/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"mapSpain | Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities","text":"contributions project gratefully acknowledged using allcontributors package following allcontributors specification. Contributions kind welcome!","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://ropenspain.github.io/mapSpain/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"Administrative Boundaries of Spain Including CCAA, Provinces and Municipalities Copyright (C) 2020 Diego Hernangómez  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. mapSpain Copyright (C) 2020 Diego Hernangómez This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"Include tiles public Spanish organisms leaflet::leaflet() map.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"","code":"addProviderEspTiles(   map,   provider,   layerId = NULL,   group = NULL,   options = providerEspTileOptions() )  providerEspTileOptions(...)"},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"https://dieghernan.github.io/leaflet-providersESP/ leaflet plugin, v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"map map add tile layer provider Name provider, see esp_tiles_providers values available. layerId layer id assign group name group newly created layers belong (clearGroup() addLayersControl() purposes). Human-friendly group names permitted–need short, identifier-style names. options tile options ... Arguments passed leaflet::providerTileOptions().","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"modified leaflet::leaflet() map object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"providerEspTileOptions() wrapper leaflet::providerTileOptions().","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/addProviderEspTiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Include base tiles of Spanish public administrations on a leaflet map — addProviderEspTiles","text":"","code":"library(leaflet) leafmap <- leaflet(width = \"100%\", height = \"60vh\") %>%   setView(lat = 40.4166, lng = -3.7038400, zoom = 10) %>%   addTiles(group = \"Default (OSM)\") %>%   addProviderEspTiles(     provider = \"IDErioja.Claro\",     group = \"IDErioja Claro\"   ) %>%   addProviderEspTiles(     provider = \"RedTransporte.Carreteras\",     group = \"Carreteras\"   ) %>%   addLayersControl(     baseGroups = c(\"IDErioja Claro\", \"Default (OSM)\"),     overlayGroups = \"Carreteras\",     options = layersControlOptions(collapsed = FALSE)   )  leafmap  {\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"setView\":[[40.4166,-3.70384],10,[]],\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,\"Default (OSM)\",{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addTiles\",\"args\":[\"https://rts.larioja.org/mapa-base/rioja_claro/{z}/{x}/{y}.png\",null,\"IDErioja Claro\",{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"minzoom\":0,\"maxzoom\":18,\"tilesize\":256,\"errortileurl\":\"\",\"nowrap\":false,\"zoomoffset\":0,\"zoomreverse\":false,\"zindex\":1,\"detectretina\":false,\"attribution\":\"CC BY 4.0 <a href='https://www.iderioja.org'>www.iderioja.org<\\/a>\"}]},{\"method\":\"addWMSTiles\",\"args\":[\"https://servicios.idee.es/wms-inspire/transportes\",null,\"Carreteras\",{\"styles\":\"\",\"format\":\"image/png\",\"transparent\":\"true\",\"version\":\"1.1.1\",\"errortileurl\":\"\",\"nowrap\":false,\"detectretina\":false,\"attribution\":\"Sistema Geogr&aacute;fico Nacional <a href='http://www.scne.es'>SCNE<\\/a>\",\"layers\":\"TN.RoadTransportNetwork.RoadLink\"}]},{\"method\":\"addLayersControl\",\"args\":[[\"IDErioja Claro\",\"Default (OSM)\"],\"Carreteras\",{\"collapsed\":false,\"autoZIndex\":true,\"position\":\"topright\"}]}]},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_check_access.html","id":null,"dir":"Reference","previous_headings":"","what":"Check access to SIANE data — esp_check_access","title":"Check access to SIANE data — esp_check_access","text":"Check R access resources https://github.com/rOpenSpain/mapSpain/tree/sianedata.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_check_access.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check access to SIANE data — esp_check_access","text":"","code":"esp_check_access()"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_check_access.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check access to SIANE data — esp_check_access","text":"logical.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_check_access.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check access to SIANE data — esp_check_access","text":"","code":"esp_check_access() #> [1] TRUE"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear your mapSpain cache dir — esp_clear_cache","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"Use function caution. function clear cached data configuration, specifically: Deletes mapSpain config directory (rappdirs::user_config_dir(\"mapSpain\", \"R\")). Deletes cache_dir directory. Deletes values stored Sys.getenv(\"MAPSPAIN_CACHE_DIR\") options(mapSpain_cache_dir).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"","code":"esp_clear_cache(config = FALSE, cached_data = TRUE, verbose = FALSE)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"config Logical. TRUE, delete configuration folder mapSpain. cached_data Logical. TRUE, delete cache_dir content. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"Invisible. function called side effects.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"overkill function intended reset status never installed /used mapSpain.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear your mapSpain cache dir — esp_clear_cache","text":"","code":"# Don't run this! It would modify your current state # \\dontrun{ esp_clear_cache(verbose = TRUE) #> mapSpain cached data deleted: C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\RtmpQbGjDi/mapSpain # }  Sys.getenv(\"MAPSPAIN_CACHE_DIR\") #> [1] \"\""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_codelist.html","id":null,"dir":"Reference","previous_headings":"","what":"Database with codes and names of spanish regions — esp_codelist","title":"Database with codes and names of spanish regions — esp_codelist","text":"data.frame object used internally translating codes names different subdivisions Spain. data.frame provides hierarchy subdivisions including NUTS1 level, autonomous communities (equivalent NUTS2), provinces NUTS3 level. See Note.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_codelist.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Database with codes and names of spanish regions — esp_codelist","text":"data.frame 59 rows codes columns: nuts1.code NUTS 1 code nuts1.name NUTS 1 name nuts1.name.alt NUTS 1 alternative name nuts1.shortname.es NUTS1 1 short (common) name (Spanish) codauto INE code autonomous community iso2.ccaa.code ISO2 code autonomous community nuts2.code NUTS 2 Code ine.ccaa.name INE name autonomous community iso2.ccaa.name.es ISO2 name autonomous community (Spanish) iso2.ccaa.name.ca ISO2 name autonomous community (Catalan) iso2.ccaa.name.gl ISO2 name autonomous community (Galician) iso2.ccaa.name.eu ISO2 name autonomous community (Basque) nuts2.name NUTS 2 name cldr.ccaa.name.en CLDR name autonomous community (English) cldr.ccaa.name.es CLDR name autonomous community (Spanish) cldr.ccaa.name.ca CLDR name autonomous community (Catalan) cldr.ccaa.name.ga CLDR name autonomous community (Galician) cldr.ccaa.name.eu CLDR name autonomous community (Basque) ccaa.shortname.en Short (common) name autonomous community (English) ccaa.shortname.es Short (common) name autonomous community (Spanish) ccaa.shortname.ca Short (common) name autonomous community (Catalan) ccaa.shortname.ga Short (common) name autonomous community (Galician) ccaa.shortname.eu Short (common) name autonomous community (Basque) cpro INE code province iso2.prov.code ISO2 code province nuts.prov.code NUTS code province ine.prov.name INE name province iso2.prov.name.es ISO2 name province (Spanish) iso2.prov.name.ca ISO2 name province (Catalan) iso2.prov.name.ga ISO2 name province (Galician) iso2.prov.name.eu ISO2 name province (Basque) cldr.prov.name.en CLDR name province (English) cldr.prov.name.es CLDR name province (Spanish) cldr.prov.name.ca CLDR name province (Catalan) cldr.prov.name.ga CLDR name province (Galician) cldr.prov.name.eu CLDR name province (Basque) prov.shortname.en Short (common) name province (English) prov.shortname.es Short (common) name province (Spanish) prov.shortname.ca Short (common) name province (Catalan) prov.shortname.ga Short (common) name province (Galician) prov.shortname.eu Short (common) name province (Basque) nuts3.code NUTS 3 code nuts3.name NUTS 3 name nuts3.shortname.es NUTS 3 short (common) name","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_codelist.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Database with codes and names of spanish regions — esp_codelist","text":"INE: Instituto Nacional de Estadistica: https://www.ine.es/ Eurostat (NUTS): https://ec.europa.eu/eurostat/web/nuts/overview ISO: https://www.iso.org/home.html CLDR: https://unicode-org.github.io/cldr-staging/charts/38/index.html","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_codelist.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Database with codes and names of spanish regions — esp_codelist","text":"Although NUTS2 matches first subdivision level Spain (CCAA - Autonomous Communities), noted NUTS3 match second subdivision level Spain (Provinces). NUTS3 provides dedicated code major islands whereas provinces . Ceuta Melilla specific status (Autonomous Cities) considered autonomous communities single province (Madrid, Asturias Murcia) database.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_codelist.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Database with codes and names of spanish regions — esp_codelist","text":"","code":"data(\"esp_codelist\")"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_detect_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect cache dir for mapSpain — esp_detect_cache_dir","title":"Detect cache dir for mapSpain — esp_detect_cache_dir","text":"Helper function detect current cache folder. See esp_set_cache_dir().","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_detect_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect cache dir for mapSpain — esp_detect_cache_dir","text":"","code":"esp_detect_cache_dir(x = NULL)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_detect_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect cache dir for mapSpain — esp_detect_cache_dir","text":"x Ignored.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_detect_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect cache dir for mapSpain — esp_detect_cache_dir","text":"character path cache_dir.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_detect_cache_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect cache dir for mapSpain — esp_detect_cache_dir","text":"","code":"esp_detect_cache_dir() #> [1] \"C:\\\\Users\\\\RUNNER~1\\\\AppData\\\\Local\\\\Temp\\\\RtmpQbGjDi/mapSpain\""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert and translate subdivision names — esp_dict_region_code","title":"Convert and translate subdivision names — esp_dict_region_code","text":"Converts long subdivision names different coding schemes languages.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert and translate subdivision names — esp_dict_region_code","text":"","code":"esp_dict_region_code(sourcevar, origin = \"text\", destination = \"text\")  esp_dict_translate(sourcevar, lang = \"en\", all = FALSE)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert and translate subdivision names — esp_dict_region_code","text":"sourcevar Vector contains subdivision names converted. origin, destination One \"text\", \"nuts\", \"iso2\", \"codauto\" \"cpro\". lang Language translation. Available languages : \"es\": Spanish \"en\": English \"ca\": Catalan \"ga\": Galician \"eu\": Basque Logical. function return names ? FALSE returns character vector. See Value.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert and translate subdivision names — esp_dict_region_code","text":"esp_dict_region_code() returns vector characters. esp_dict_translate() returns character vector named list possible names sourcevar required language lang.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert and translate subdivision names — esp_dict_region_code","text":"match found value, function displays warning returns NA values. Note mixing names different administrative levels (e.g. \"Catalonia\" \"Barcelona\") may return empty values, depending destination values.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_dict.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert and translate subdivision names — esp_dict_region_code","text":"","code":"vals <- c(\"Errioxa\", \"Coruna\", \"Gerona\", \"Madrid\")  esp_dict_region_code(vals) #> No conversion - origin equal to destination #> [1] \"Errioxa\" \"Coruna\"  \"Gerona\"  \"Madrid\"  esp_dict_region_code(vals, destination = \"nuts\") #> [1] \"ES23\"  \"ES111\" \"ES512\" \"ES30\"  esp_dict_region_code(vals, destination = \"cpro\") #> [1] \"26\" \"15\" \"17\" \"28\" esp_dict_region_code(vals, destination = \"iso2\") #> [1] \"ES-RI\" \"ES-C\"  \"ES-GI\" \"ES-MD\"  # From ISO2 to another codes  iso2vals <- c(\"ES-M\", \"ES-S\", \"ES-SG\") esp_dict_region_code(iso2vals, origin = \"iso2\") #> [1] \"Madrid\"    \"Cantabria\" \"Segovia\"   esp_dict_region_code(iso2vals,   origin = \"iso2\",   destination = \"nuts\" ) #> [1] \"ES300\" \"ES130\" \"ES416\" esp_dict_region_code(iso2vals,   origin = \"iso2\",   destination = \"cpro\" ) #> [1] \"28\" \"39\" \"40\"  # Mixing levels valsmix <- c(\"Centro\", \"Andalucia\", \"Seville\", \"Menorca\") esp_dict_region_code(valsmix, destination = \"nuts\") #> [1] \"ES4\"   \"ES61\"  \"ES618\" \"ES533\" # \\dontrun{  # Warning  esp_dict_region_code(valsmix, destination = \"codauto\") #> Warning: No match on codauto found for Centro, Seville, Menorca #> [1] NA   \"01\" NA   NA   esp_dict_region_code(valsmix, destination = \"iso2\") #> Warning: No match on iso2 found for Centro, Menorca #> [1] NA      \"ES-AN\" \"ES-SE\" NA      # }   vals <- c(\"La Rioja\", \"Sevilla\", \"Madrid\", \"Jaen\", \"Orense\", \"Baleares\")  esp_dict_translate(vals) #> [1] \"La Rioja\"         \"Seville\"          \"Madrid\"           \"Jaén\"             #> [5] \"Ourense\"          \"Balearic Islands\" esp_dict_translate(vals, lang = \"es\") #> [1] \"La Rioja\" \"Sevilla\"  \"Madrid\"   \"Jaén\"     \"Orense\"   \"Baleares\" esp_dict_translate(vals, lang = \"ca\") #> [1] \"La Rioja\"      \"Sevilla\"       \"Madrid\"        \"Jaén\"          #> [5] \"Ourense\"       \"Illes Balears\" esp_dict_translate(vals, lang = \"eu\") #> [1] \"Errioxa\"         \"Sevilla\"         \"Madril\"          \"Jaén\"            #> [5] \"Ourense\"         \"Balear Uharteak\" esp_dict_translate(vals, lang = \"ga\") #> [1] \"A Rioxa\"        \"Sevilla\"        \"Madrid\"         \"Xaén\"           #> [5] \"Ourense\"        \"Illas Baleares\"  esp_dict_translate(vals, lang = \"ga\", all = TRUE) #> $`La Rioja` #> [1] \"A Rioxa\" \"a rioxa\" \"A RIOXA\" #>  #> $Sevilla #> [1] \"Sevilla\"              \"sevilla\"              \"SEVILLA\"              #> [4] \"Provincia de Sevilla\" \"provincia de sevilla\" \"PROVINCIA DE SEVILLA\" #>  #> $Madrid #> [1] \"Madrid\"               \"madrid\"               \"MADRID\"               #> [4] \"Comunidade de Madrid\" \"comunidade de madrid\" \"COMUNIDADE DE MADRID\" #>  #> $Jaen #>  [1] \"Xaén\"              \"Xaen\"              \"xaén\"              #>  [4] \"xaen\"              \"XAÉN\"              \"XAEN\"              #>  [7] \"Provincia de Xaén\" \"Provincia de Xaen\" \"provincia de xaén\" #> [10] \"provincia de xaen\" \"PROVINCIA DE XAÉN\" \"PROVINCIA DE XAEN\" #>  #> $Orense #> [1] \"Ourense\"              \"ourense\"              \"OURENSE\"              #> [4] \"Provincia de Ourense\" \"provincia de ourense\" \"PROVINCIA DE OURENSE\" #>  #> $Baleares #> [1] \"Illas Baleares\"                 \"illas baleares\"                 #> [3] \"ILLAS BALEARES\"                 \"Illas Baleares - Illes Balears\" #> [5] \"illas baleares - illes balears\" \"ILLAS BALEARES - ILLES BALEARS\" #>"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Get static tiles from public administrations of Spain — esp_getTiles","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"Get static map tiles based spatial object. Maps can fetched various open map servers. function implementation javascript plugin leaflet-providersESP v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"","code":"esp_getTiles(   x,   type = \"IDErioja\",   zoom = NULL,   zoommin = 0,   crop = TRUE,   res = 512,   bbox_expand = 0.05,   transparent = TRUE,   mask = FALSE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   options = NULL )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"https://dieghernan.github.io/leaflet-providersESP/ leaflet plugin, v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"x sf sfc object. type parameter either: name one  pre-defined providers (see esp_tiles_providers()). list two named elements id q parameters. See esp_make_provider() examples. zoom Zoom level. NULL, determined automatically. set, overrides zoommin. valid WMTS tiles. single point applies buffer point zoom = NULL function set zoom level 18. See Details. zoommin Delta default zoom. default value designed download fewer tiles probably want. Use 1 2 increase resolution. crop TRUE results cropped specified x extent, FALSE otherwise. x sf object one POINT, crop set FALSE. res Resolution (pixels) final tile. valid WMS. bbox_expand numeric value indicates expansion percentage bounding box x. transparent Logical. Provides transparent background, supported. Depends selected provider type. mask TRUE result masked x. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. options named list containing additional options pass query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"SpatRaster returned, 3 (RGB) 4 (RGBA) layers, depending provider. See terra::rast(). .","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"Zoom levels described OpenStreetMap wiki: complete list providers see esp_tiles_providers. WMS/WMTS providers provide tiles \"EPSG:3857\". case tile looks deformed, try projecting first x: x <- sf::st_transform(x, 3857)","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_getTiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get static tiles from public administrations of Spain — esp_getTiles","text":"","code":"# \\dontrun{ # This script downloads tiles to your local machine # Run only if you are online  segovia <- esp_get_prov_siane(\"segovia\", epsg = 3857) tile <- esp_getTiles(segovia, \"IGNBase.Todo\")  library(ggplot2) library(tidyterra) #>  #> Attaching package: 'tidyterra' #> The following object is masked from 'package:stats': #>  #>     filter  ggplot(segovia) +   geom_spatraster_rgb(data = tile, maxcell = Inf) +   geom_sf(fill = NA)   # Another provider  tile2 <- esp_getTiles(segovia, type = \"MDT\")  ggplot(segovia) +   geom_spatraster_rgb(data = tile2, maxcell = Inf) +   geom_sf(fill = NA)   # A custom WMS provided  custom_wms <- esp_make_provider(   id = \"an_id_for_caching\",   q = \"https://idecyl.jcyl.es/geoserver/ge/wms?\",   service = \"WMS\",   version = \"1.3.0\",   format = \"image/png\",   layers = \"geolog_cyl_litologia\" )  custom_wms_tile <- esp_getTiles(segovia, custom_wms)  autoplot(custom_wms_tile, maxcell = Inf) +   geom_sf(data = segovia, fill = NA, color = \"red\")   # A custom WMTS provider  custom_wmts <- esp_make_provider(   id = \"cyl_wmts\",   q = \"https://www.ign.es/wmts/pnoa-ma?\",   service = \"WMTS\",   layer = \"OI.OrthoimageCoverage\" )  custom_wmts_tile <- esp_getTiles(segovia, custom_wmts)  autoplot(custom_wmts_tile, maxcell = Inf) +   geom_sf(data = segovia, fill = NA, color = \"white\", linewidth = 2)   # Example from https://leaflet-extras.github.io/leaflet-providers/preview/ cartodb_voyager <- list(   id = \"CartoDB_Voyager\",   q = \"https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png\" ) cartodb <- esp_getTiles(segovia, cartodb_voyager, zoommin = 1)  autoplot(cartodb, maxcell = Inf) +   geom_sf(data = segovia, fill = NA, color = \"black\", linewidth = 1)  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"plotting Spain, usual represent Canary Islands inset (see moveCAN esp_get_nuts()). functions provides complementary lines polygons used Canary Islands displayed inset. esp_get_can_box() used draw lines around displaced Canary Islands. esp_get_can_provinces() used draw separator line two provinces Canary Islands. See also esp_move_can() displace stand-alone objects Canary Islands.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"","code":"esp_get_can_box(style = \"right\", moveCAN = TRUE, epsg = \"4258\")  esp_get_can_provinces(moveCAN = TRUE, epsg = \"4258\")"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"esp_get_can_provinces extracted CartoBase ANE, se89_mult_admin_provcan_l.shp file.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"style Style line around Canary Islands. Four options available: \"left\", \"right\", \"box\" \"poly\". moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"sf POLYGON LINESTRING depending style parameter. esp_get_can_provinces returns LINESTRING object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_can_box.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf lines and polygons for insetting the Canary Islands — esp_get_can_box","text":"","code":"Provs <- esp_get_prov() Box <- esp_get_can_box() Line <- esp_get_can_provinces()  # Plot library(ggplot2)  ggplot(Provs) +   geom_sf() +   geom_sf(data = Box) +   geom_sf(data = Line) +   theme_linedraw()  # \\donttest{ # Displacing Canary  # By same factor  displace <- c(15, 0)  Provs_D <- esp_get_prov(moveCAN = displace)  Box_D <- esp_get_can_box(style = \"left\", moveCAN = displace)  Line_D <- esp_get_can_provinces(moveCAN = displace)  ggplot(Provs_D) +   geom_sf() +   geom_sf(data = Box_D) +   geom_sf(data = Line_D) +   theme_linedraw()    # Example with poly option  # Get countries with giscoR  library(giscoR)  # Low resolution map res <- \"20\"  Countries <-   gisco_get_countries(     res = res,     epsg = \"4326\",     country = c(\"France\", \"Portugal\", \"Andorra\", \"Morocco\", \"Argelia\")   ) CANbox <-   esp_get_can_box(     style = \"poly\",     epsg = \"4326\",     moveCAN = c(12.5, 0)   )  CCAA <- esp_get_ccaa(   res = res,   epsg = \"4326\",   moveCAN = c(12.5, 0) # Same displacement factor) )  # Plot  ggplot(Countries) +   geom_sf(fill = \"#DFDFDF\") +   geom_sf(data = CANbox, fill = \"#C7E7FB\", linewidth = 1) +   geom_sf(data = CCAA, fill = \"#FDFBEA\") +   coord_sf(     xlim = c(-10, 4.3),     ylim = c(34.6, 44)   ) +   theme(     panel.background = element_rect(fill = \"#C7E7FB\"),     panel.grid = element_blank()   )  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POINT of the municipalities of Spain — esp_get_capimun","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"Get sf POINT location political powers municipality (possibly center municipality). Note differs centroid boundaries municipality, returned esp_get_munic().","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"","code":"esp_get_capimun(   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   region = NULL,   munic = NULL,   moveCAN = TRUE,   rawcols = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"year Release year. See Details years available. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. region vector names /codes provinces NULL get municipalities. See Details. munic name regex expression names required municipalities. NULL return municipalities. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. rawcols Logical. Setting TRUE add raw columns resulting object provided IGN.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"sf POINT object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"year passed single year (YYYY format, end year) specific date (YYYY-MM-DD format). Historical information starts 2005. using region can use mix names NUTS codes (levels 1, 2 3), ISO codes (corresponding level 2 3) cpro. See esp_codelist calling higher level (province, CCAA NUTS1), municipalities level added.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_capimun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POINT of the municipalities of Spain — esp_get_capimun","text":"","code":"# \\dontrun{ # This code compares centroids of municipalities against esp_get_capimun # It also download tiles, make sure you are online  library(sf) #> Linking to GEOS 3.13.1, GDAL 3.11.0, PROJ 9.6.0; sf_use_s2() is TRUE  # Get shape area <- esp_get_munic_siane(munic = \"Valladolid\", epsg = 3857)  # Area in km2 print(paste0(round(as.double(sf::st_area(area)) / 1000000, 2), \" km2\")) #> [1] \"353.42 km2\"  # Extract centroid centroid <- sf::st_centroid(area) #> Warning: st_centroid assumes attributes are constant over geometries centroid$type <- \"Centroid\"  # Compare with capimun capimun <- esp_get_capimun(munic = \"Valladolid\", epsg = 3857) capimun$type <- \"Capimun\"  # Get a tile to check tile <- esp_getTiles(area, \"IGNBase.Todo\", zoommin = 2)  # Join both point geometries points <- rbind(   centroid[, \"type\"],   capimun[, \"type\"] )   # Check on plot library(ggplot2) library(tidyterra)  ggplot(points) +   geom_spatraster_rgb(data = tile, maxcell = Inf) +   geom_sf(data = area, fill = NA, color = \"blue\") +   geom_sf(data = points, aes(fill = type), size = 5, shape = 21) +   scale_fill_manual(values = c(\"green\", \"red\")) +   theme_void() +   labs(title = \"Centroid vs. capimun\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"Returns Autonomous Communities Spain sf POLYGON POINT specified scale. esp_get_ccaa() uses GISCO (Eurostat) source. Please use giscoR::gisco_attributions() esp_get_ccaa_siane() uses CartoBase ANE source, provided Instituto Geografico Nacional (IGN), http://www.ign.es/web/ign/portal. Years available 2005 today.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"","code":"esp_get_ccaa(ccaa = NULL, moveCAN = TRUE, ...)  esp_get_ccaa_siane(   ccaa = NULL,   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"3\",   moveCAN = TRUE,   rawcols = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"ccaa vector names /codes autonomous communities NULL get autonomous communities. See Details. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. ... Arguments passed esp_get_nuts spatialtype Type geometry returned: \"LB\": Labels - POINT object. \"RG\": Regions - POLYGON object. year Release year. See esp_get_nuts() esp_get_ccaa() Details esp_get_ccaa_siane(). epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution POLYGON. Values available 3, 6.5 10. rawcols Logical. Setting TRUE add raw columns resulting object provided IGN.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"sf object specified spatialtype.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"using ccaa can use mix names NUTS codes (levels 1 2), ISO codes (corresponding level 2) codauto (see esp_codelist). Ceuta Melilla considered Autonomous Communities function. calling NUTS1 level, Autonomous Communities level added. esp_get_ccaa_siane(), year passed single year (YYYY format, end year) specific date (YYYY-MM-DD format). Historical information starts 2005.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_ccaa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Autonomous Communities of Spain as sf POLYGON or POINT — esp_get_ccaa","text":"","code":"ccaa <- esp_get_ccaa()  library(ggplot2)  ggplot(ccaa) +   geom_sf()   # Random CCAA Random <- esp_get_ccaa(ccaa = c(   \"Euskadi\",   \"Catalunya\",   \"ES-EX\",   \"Canarias\",   \"ES52\",   \"01\" ))   ggplot(Random) +   geom_sf(aes(fill = codauto), show.legend = FALSE) +   geom_sf_label(aes(label = codauto), alpha = 0.3) #> Warning: st_point_on_surface may not give correct results for longitude/latitude data   # All CCAA of a Zone plus an addition  Mix <-   esp_get_ccaa(ccaa = c(\"La Rioja\", \"Noroeste\"))  ggplot(Mix) +   geom_sf()   # Combine with giscoR to get countries # \\donttest{  library(giscoR) library(sf)  res <- 20 # Set same resoluion  europe <- gisco_get_countries(resolution = res) ccaa <- esp_get_ccaa(moveCAN = FALSE, resolution = res)  # Transform to same CRS europe <- st_transform(europe, 3035) ccaa <- st_transform(ccaa, 3035)  ggplot(europe) +   geom_sf(fill = \"#DFDFDF\", color = \"#656565\") +   geom_sf(data = ccaa, fill = \"#FDFBEA\", color = \"#656565\") +   coord_sf(     xlim = c(23, 74) * 10e4,     ylim = c(14, 55) * 10e4   ) +   theme(panel.background = element_rect(fill = \"#C7E7FB\"))  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":null,"dir":"Reference","previous_headings":"","what":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"Returns 'comarcas' Spain sf POLYGON objects.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"","code":"esp_get_comarca(   region = NULL,   comarca = NULL,   moveCAN = TRUE,   type = c(\"INE\", \"IGN\", \"AGR\", \"LIV\"),   epsg = \"4258\",   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"INE: PC_Axis files, IGN, Ministry Agriculture, Fisheries Food (MAPA).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"region vector names /codes provinces NULL get comarcas. See Details. comarca name regex expression names required comarcas. NULL return possible comarcas. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. type One \"INE\", \"IGN\", \"AGR\", \"LIV\". Type comarca return, see Details. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"sf polygon object.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"about-comarcas","dir":"Reference","previous_headings":"","what":"About comarcas","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"'Comarcas' (English equivalent: district, county, area zone) always formal legal status. correspond mainly natural areas (valleys, river basins etc.) even historical regions ancient kingdoms. case Spain, comarcas administrative character legally recognized Catalonia, Basque Country, Navarra (named merindades instead), region El Bierzo (Castilla y Leon) Aragon. Galicia, Principality Asturias, Andalusia functional comarcas.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"types","dir":"Reference","previous_headings":"","what":"Types","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"esp_get_comarca() can retrieve several types comarcas, one provided different classification criteria. \"INE\": Comarcas defined National Statistics Institute (INE). \"IGN\": Official comarcas, available Autonomous Communities, provided National Geographic Institute. \"AGR\": Agrarian comarcas defined Ministry Agriculture, Fisheries Food (MAPA). \"LIV\": Livestock comarcas defined Ministry Agriculture, Fisheries Food (MAPA).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"misc","dir":"Reference","previous_headings":"","what":"Misc","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"using region can use mix names NUTS codes (levels 1, 2 3), ISO codes (corresponding level 2 3) \"cpro\" (see esp_codelist). calling higher level (Province, Autonomous Community NUTS1), comarcas level added.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"legal-notice","dir":"Reference","previous_headings":"","what":"Legal Notice","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"use information contained INE website may carried users re-use agents, risk, sole liable parties case answer third parties due damages arising use.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_comarca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get 'comarcas' of Spain as sf POLYGON — esp_get_comarca","text":"","code":"# \\donttest{ comarcas <- esp_get_comarca(moveCAN = FALSE)  library(ggplot2)  ggplot(comarcas) +   geom_sf()   # IGN provides recognized comarcas  rec <- esp_get_comarca(type = \"IGN\")  ggplot(rec) +   geom_sf(aes(fill = t_comarca))   # Legal Comarcas of Catalunya  comarcas_cat <- esp_get_comarca(\"Catalunya\", type = \"IGN\")  ggplot(comarcas_cat) +   geom_sf(aes(fill = ine.prov.name)) +   labs(fill = \"Province\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON representing Spain — esp_get_country","title":"Get sf POLYGON representing Spain — esp_get_country","text":"Returns boundaries Spain single sf POLYGON specified scale.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON representing Spain — esp_get_country","text":"","code":"esp_get_country(moveCAN = TRUE, ...)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON representing Spain — esp_get_country","text":"moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. ... Arguments passed esp_get_nuts year Release year file. One \"2003\", \"2006\", \"2010\", \"2013\", \"2016\"  \"2021\". epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution geospatial data. One \"60\": 1:60million \"20\": 1:20million \"10\": 1:10million \"03\": 1:3million \"01\": 1:1million","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON representing Spain — esp_get_country","text":"sf POLYGON object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON representing Spain — esp_get_country","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get sf POLYGON representing Spain — esp_get_country","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_country.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON representing Spain — esp_get_country","text":"","code":"OriginalCan <- esp_get_country(moveCAN = FALSE)  # One row only  nrow(OriginalCan) #> [1] 1  library(ggplot2)  ggplot(OriginalCan) +   geom_sf(fill = \"grey70\")    # Less resolution  MovedCan <- esp_get_country(moveCAN = TRUE, resolution = \"20\")  library(ggplot2)  ggplot(MovedCan) +   geom_sf(fill = \"grey70\")"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"Loads hexbin map (sf object) map squares boundaries provinces autonomous communities Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"","code":"esp_get_hex_prov(prov = NULL)  esp_get_hex_ccaa(ccaa = NULL)  esp_get_grid_prov(prov = NULL)  esp_get_grid_ccaa(ccaa = NULL)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"prov vector names /codes provinces NULL get provinces. See Details. ccaa vector names /codes autonomous communities NULL get autonomous communities. See Details.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"sf POLYGON object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"Hexbin grid map advantage usual choropleth maps. choropleths, large polygon data looks emphasized just size, introduces bias. hexbin, region represented equally dismissing bias. can use mix names, ISO codes, \"codauto\"/ \"cpro\" codes (see esp_codelist) NUTS codes different levels. using code corresponding higher level (e.g. esp_get_prov(\"Andalucia\")) corresponding units level provided (case , provinces Andalusia). Results provided EPSG:4258, use sf::st_transform() change projection.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_gridmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a sf hexbin or squared POLYGON of Spain — esp_get_gridmap","text":"","code":"esp <- esp_get_country() hexccaa <- esp_get_hex_ccaa()  library(ggplot2)  ggplot(hexccaa) +   geom_sf(data = esp) +   geom_sf(aes(fill = codauto),     alpha = 0.3,     show.legend = FALSE   ) +   geom_sf_text(aes(label = label), check_overlap = TRUE) +   theme_void() +   labs(title = \"Hexbin: CCAA\") #> Warning: st_point_on_surface may not give correct results for longitude/latitude data       hexprov <- esp_get_hex_prov()  ggplot(hexprov) +   geom_sf(data = esp) +   geom_sf(aes(fill = codauto),     alpha = 0.3,     show.legend = FALSE   ) +   geom_sf_text(aes(label = label), check_overlap = TRUE) +   theme_void() +   labs(title = \"Hexbin: Provinces\") #> Warning: st_point_on_surface may not give correct results for longitude/latitude data     gridccaa <- esp_get_grid_ccaa()  ggplot(gridccaa) +   geom_sf(data = esp) +   geom_sf(aes(fill = codauto),     alpha = 0.3,     show.legend = FALSE   ) +   geom_sf_text(aes(label = label), check_overlap = TRUE) +   theme_void() +   labs(title = \"Grid: CCAA\") #> Warning: st_point_on_surface may not give correct results for longitude/latitude data    gridprov <- esp_get_grid_prov()  ggplot(gridprov) +   geom_sf(data = esp) +   geom_sf(aes(fill = codauto),     alpha = 0.3,     show.legend = FALSE   ) +   geom_sf_text(aes(label = label), check_overlap = TRUE) +   theme_void() +   labs(title = \"Grid: Provinces\") #> Warning: st_point_on_surface may not give correct results for longitude/latitude data"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"Loads sf POLYGON geographic grids Spain provided Banco de Datos de la Naturaleza (Nature Data Bank), Ministry Environment (MITECO): esp_get_grid_BDN() extracts country-wide grids resolutions 5x5 10x10 kms. esp_get_grid_BDN_ccaa() extracts grids Autonomous Community resolution 1x1 km.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"","code":"esp_get_grid_BDN(   resolution = 10,   type = \"main\",   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )  esp_get_grid_BDN_ccaa(   ccaa,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"BDN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata/MTN). See original metadata source https://www.miteco.gob.es/es/biodiversidad/servicios/banco-datos-naturaleza/informacion-disponible/bdn-cart-aux-descargas-ccaa.html","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"resolution Resolution grid kms. 5 10. type scope grid. mainland Spain (\"main\") Canary Islands (\"canary\"). update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. ccaa vector names /codes autonomous communities. See Details esp_get_ccaa().","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"sf POLYGON.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_BDN.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON with the national geographic grids from BDN — esp_get_grid_BDN","text":"","code":"# \\donttest{ grid <- esp_get_grid_BDN(resolution = \"10\", type = \"main\")  library(ggplot2)  ggplot(grid) +   geom_sf() +   theme_light() +   labs(title = \"BDN Grid for Spain\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"Loads sf POLYGON geographic grids Spain provided European Environment Agency (EEA).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"","code":"esp_get_grid_EEA(   resolution = 100,   type = \"main\",   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"EEA reference grid.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"resolution Resolution grid kms. 1, 10 100. type scope grid. mainland Spain (\"main\") Canary Islands (\"canary\"). update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"sf POLYGON.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_EEA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON of the national geographic grids from EEA — esp_get_grid_EEA","text":"","code":"# \\dontrun{  grid <- esp_get_grid_EEA(type = \"main\", resolution = 100) grid_can <- esp_get_grid_EEA(type = \"canary\", resolution = 100) esp <- esp_get_country(moveCAN = FALSE)  library(ggplot2)  ggplot(grid) +   geom_sf() +   geom_sf(data = grid_can) +   geom_sf(data = esp, fill = NA) +   theme_light() +   labs(title = \"EEA Grid for Spain\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"Loads sf POLYGON geographic grids Spain provided European Soil Data Centre (ESDAC).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"","code":"esp_get_grid_ESDAC(   resolution = 10,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"EEA reference grid.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"resolution Resolution grid kms. 1 10. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"sf POLYGON.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"Panagos P., Van Liedekerke M., Jones ., Montanarella L., \"European Soil Data Centre: Response European policy support public data requirements\"; (2012) Land Use Policy, 29 (2), pp. 329-338. doi:10.1016/j.landusepol.2011.07.003 European Soil Data Centre (ESDAC), esdac.jrc.ec.europa.eu, European Commission, Joint Research Centre.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_ESDAC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON of the national geographic grids from ESDAC — esp_get_grid_ESDAC","text":"","code":"# \\dontrun{ grid <- esp_get_grid_ESDAC() esp <- esp_get_country(moveCAN = FALSE)  library(ggplot2)  ggplot(grid) +   geom_sf() +   geom_sf(data = esp, color = \"grey50\", fill = NA) +   theme_light() +   labs(title = \"ESDAC Grid for Spain\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"Loads sf POLYGON geographic grids Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"","code":"esp_get_grid_MTN(   grid = \"MTN25_ETRS89_Peninsula_Baleares_Canarias\",   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata/MTN).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"grid Name grid loaded. See Details. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"sf POLYGON.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"Metadata available https://github.com/rOpenSpain/mapSpain/tree/sianedata/MTN. Possible values grid :","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"mtn-grids","dir":"Reference","previous_headings":"","what":"MTN Grids","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"description MTN (Mapa Topografico Nacional) grids available: MTN25_ED50_Peninsula_Baleares MTN25 grid corresponding Peninsula Balearic Islands, ED50 geographical coordinates (longitude, latitude) real MTN25 grid, , one divides current printed series map, taking account special sheets irregularities. MTN50_ED50_Peninsula_Baleares MTN50 grid corresponding Peninsula Balearic Islands, ED50 geographical coordinates (longitude, latitude) real MTN50 grid, , one divides current printed series map, taking account special sheets irregularities. MTN25_ETRS89_ceuta_melilla_alboran MTN25 grid corresponding Ceuta, Melilla, Alboran Spanish territories North Africa, adjusted new official geodetic reference system ETRS89, geographical coordinates (longitude, latitude). MTN25_ETRS89_Peninsula_Baleares_Canarias MTN25 real grid corresponding Peninsula, Balearic Islands Canary Islands, adjusted new ETRS89 official reference geodetic system, geographical coordinates (longitude, latitude). MTN50_ETRS89_Peninsula_Baleares_Canarias MTN50 real grid corresponding Peninsula, Balearic Islands Canary Islands, adjusted new ETRS89 official reference geodetic system, geographical coordinates (longitude, latitude). MTN25_RegCan95_Canarias MTN25 grid corresponding Canary Islands, REGCAN95 (WGS84 compatible) geographic coordinates (longitude, latitude). real MTN25 grid, , one divides current printed series map, taking account special distribution Canary Islands sheets. MTN50_RegCan95_Canarias MTN50 grid corresponding Canary Islands, REGCAN95 (WGS84 compatible) geographic coordinates (longitude, latitude). real grid MTN50, , one divides current printed series map, taking account special distribution Canary Islands sheets.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_grid_MTN.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON of the national geographic grids from IGN — esp_get_grid_MTN","text":"","code":"# \\donttest{ grid <- esp_get_grid_MTN(grid = \"MTN50_ETRS89_Peninsula_Baleares_Canarias\")  library(ggplot2)  ggplot(grid) +   geom_sf() +   theme_light() +   labs(title = \"MTN50 Grid for Spain\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"Loads sf POLYGON object containing areas required hydrographic elements Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"","code":"esp_get_hydrobasin(   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"3\",   domain = \"land\" )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution POLYGON. Values available \"3\", \"6.5\" \"10\". domain Possible values \"land\", includes ground part ground \"landsea\", includes ground related sea waters basin.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"sf POLYGON object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"Metadata available https://github.com/rOpenSpain/mapSpain/tree/sianedata/.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hydrobasin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON of the drainage basin demarcations of Spain — esp_get_hydrobasin","text":"","code":"# \\donttest{ hydroland <- esp_get_hydrobasin(domain = \"land\") hydrolandsea <- esp_get_hydrobasin(domain = \"landsea\")  library(ggplot2)   ggplot(hydroland) +   geom_sf(data = hydrolandsea, fill = \"skyblue4\", alpha = .4) +   geom_sf(fill = \"skyblue\", alpha = .5) +   geom_sf_text(aes(label = rotulo),     size = 3, check_overlap = TRUE,     fontface = \"bold\",     family = \"serif\"   ) +   coord_sf(     xlim = c(-9.5, 4.5),     ylim = c(35, 44)   ) +   theme_void() #> Warning: st_point_on_surface may not give correct results for longitude/latitude data  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"Loads sf POLYGON LINESTRING object representing hypsometry bathymetry Spain. Hypsometry represents  elevation depth features Earth's surface relative mean sea level. Bathymetry measurement depth water oceans, rivers, lakes.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"","code":"esp_get_hypsobath(   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"3\",   spatialtype = \"area\" )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution shape. Values available \"3\" \"6.5\". spatialtype Spatial type output. Use \"area\" POLYGON \"line\" LINESTRING.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"sf POLYGON LINESTRING object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"Metadata available https://github.com/rOpenSpain/mapSpain/tree/sianedata/.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_hypsobath.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON or LINESTRING with hypsometry and bathymetry of Spain — esp_get_hypsobath","text":"","code":"# \\donttest{ # This code would produce a nice plot - It will take a few seconds to run library(ggplot2)  hypsobath <- esp_get_hypsobath()  # Error on the data provided - There is an empty shape # Remove:  hypsobath <- hypsobath[!sf::st_is_empty(hypsobath), ]  # Tints from Wikipedia # https://en.wikipedia.org/wiki/Wikipedia:WikiProject_Maps/Conventions/ # Topographic_maps  bath_tints <- colorRampPalette(   rev(     c(       \"#D8F2FE\", \"#C6ECFF\", \"#B9E3FF\",       \"#ACDBFB\", \"#A1D2F7\", \"#96C9F0\",       \"#8DC1EA\", \"#84B9E3\", \"#79B2DE\",       \"#71ABD8\"     )   ) )  hyps_tints <- colorRampPalette(   rev(     c(       \"#F5F4F2\", \"#E0DED8\", \"#CAC3B8\", \"#BAAE9A\",       \"#AC9A7C\", \"#AA8753\", \"#B9985A\", \"#C3A76B\",       \"#CAB982\", \"#D3CA9D\", \"#DED6A3\", \"#E8E1B6\",       \"#EFEBC0\", \"#E1E4B5\", \"#D1D7AB\", \"#BDCC96\",       \"#A8C68F\", \"#94BF8B\", \"#ACD0A5\"     )   ) )  levels <- sort(unique(hypsobath$val_inf))  # Create palette br_bath <- length(levels[levels < 0]) br_terrain <- length(levels) - br_bath  pal <- c(bath_tints((br_bath)), hyps_tints((br_terrain)))   # Plot Canary Islands ggplot(hypsobath) +   geom_sf(aes(fill = as.factor(val_inf)),     color = NA   ) +   coord_sf(     xlim = c(-18.6, -13),     ylim = c(27, 29.5)   ) +   scale_fill_manual(values = pal) +   guides(fill = guide_legend(     title = \"Elevation\",     direction = \"horizontal\",     label.position = \"bottom\",     title.position = \"top\",     nrow = 1   )) +   theme(legend.position = \"bottom\")    # Plot Mainland ggplot(hypsobath) +   geom_sf(aes(fill = as.factor(val_inf)),     color = NA   ) +   coord_sf(     xlim = c(-9.5, 4.4),     ylim = c(35.8, 44)   ) +   scale_fill_manual(values = pal) +   guides(fill = guide_legend(     title = \"Elevation\",     reverse = TRUE,     keyheight = .8   ))  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":null,"dir":"Reference","previous_headings":"","what":"Get municipalities of Spain as sf POLYGON — esp_get_munic","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"Returns municipalities Spain sf POLYGON` specified scale. esp_get_munic() uses GISCO (Eurostat) source. Please use giscoR::gisco_attributions(). esp_get_munic_siane() uses CartoBase ANE source, provided Instituto Geografico Nacional (IGN), http://www.ign.es/web/ign/portal. Years available 2005 today.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"","code":"esp_get_munic(   year = \"2019\",   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   region = NULL,   munic = NULL,   moveCAN = TRUE )  esp_get_munic_siane(   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = 3,   region = NULL,   munic = NULL,   moveCAN = TRUE,   rawcols = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"GISCO API IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"year Release year. See Details years available. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. region vector names /codes provinces NULL get municipalities. See Details. munic name regex expression names required municipalities. NULL return municipalities. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. resolution Resolution polygon. Values available \"3\", \"6.5\"  \"10\". rawcols Logical. Setting TRUE add raw columns resulting object provided IGN.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"sf POLYGON.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"years available : esp_get_munic():  year one \"2001\", \"2004\", \"2006\", \"2008\", \"2010\", \"2013\" year 2016 2019. See giscoR::gisco_get_lau(), giscoR::gisco_get_communes(). esp_get_munic_siane(): year passed single year (\"YYYY\" format, end year) specific date (\"YYYY-MM-DD\" format). Historical information starts 2005. using region can use mix names NUTS codes (levels 1, 2 3), ISO codes (corresponding level 2 3) \"cpro\" (see esp_codelist). calling higher level (Province, Autonomous Community NUTS1), municipalities level added.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_munic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get municipalities of Spain as sf POLYGON — esp_get_munic","text":"","code":"# \\donttest{ # Get munics Base <- esp_get_munic(year = \"2019\", region = \"Castilla y Leon\")  # Provs for delimiting provs <- esp_get_prov(prov = \"Castilla y Leon\")  # Load population data data(\"pobmun19\")  # Arrange and create breaks  Base_pop <- merge(Base, pobmun19,   by = c(\"cpro\", \"cmun\"),   all.x = TRUE )  br <- sort(c(   0, 50, 100, 200, 500,   1000, 5000, 50000, 100000,   Inf ))  Base_pop$cuts <- cut(Base_pop$pob19, br, dig.lab = 20)  # Plot library(ggplot2)   ggplot(Base_pop) +   geom_sf(aes(fill = cuts), color = NA) +   geom_sf(data = provs, fill = NA, color = \"grey70\") +   scale_fill_manual(values = hcl.colors(length(br), \"cividis\")) +   labs(     title = \"Population in Castilla y Leon\",     subtitle = \"INE, 2019\",     fill = \"Persons\"   ) +   theme_void()  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"Returns NUTS regions Spain POLYGON POINT specified scale, provided GISCO (Geographic Information System Commission, depending Eurostat). NUTS provided three different levels: \"0\": Country level. \"1\": Groups autonomous communities. \"2\": Autonomous communities (CCAA). \"3\": Roughly matches provinces, providing specific individual objects major island.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"","code":"esp_get_nuts(   year = \"2016\",   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"01\",   spatialtype = \"RG\",   region = NULL,   nuts_level = \"all\",   moveCAN = TRUE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"GISCO API","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"year Release year file. One \"2003\", \"2006\", \"2010\", \"2013\", \"2016\"  \"2021\". epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution geospatial data. One \"60\": 1:60million \"20\": 1:20million \"10\": 1:10million \"03\": 1:3million \"01\": 1:1million spatialtype Type geometry returned: \"LB\": Labels - POINT object. \"RG\": Regions - POLYGON object. region Optional. vector region names, NUTS ISO codes (see esp_dict_region_code()). nuts_level NUTS level. One \"0\" (Country-level), \"1\", \"2\" \"3\". See Description. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"sf object specified spatialtype.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"Please check download usage provisions giscoR::gisco_attributions()","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_nuts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NUTS of Spain as sf POLYGON or POINT — esp_get_nuts","text":"","code":"NUTS1 <- esp_get_nuts(nuts_level = 1, moveCAN = TRUE)  library(ggplot2)  ggplot(NUTS1) +   geom_sf() +   labs(     title = \"NUTS1: Displacing Canary Islands\",     caption = giscoR::gisco_attributions()   )    NUTS1_alt <- esp_get_nuts(nuts_level = 1, moveCAN = c(15, 0))   ggplot(NUTS1_alt) +   geom_sf() +   labs(     title = \"NUTS1: Displacing Canary Islands\",     subtitle = \"to the right\",     caption = giscoR::gisco_attributions()   )    NUTS1_orig <- esp_get_nuts(nuts_level = 1, moveCAN = FALSE)  ggplot(NUTS1_orig) +   geom_sf() +   labs(     title = \"NUTS1\",     subtitle = \"Canary Islands on the true location\",     caption = giscoR::gisco_attributions()   )    AndOriental <- esp_get_nuts(region = c(   \"Almeria\", \"Granada\",   \"Jaen\", \"Malaga\" ))   ggplot(AndOriental) +   geom_sf()     RandomRegions <- esp_get_nuts(region = c(\"ES1\", \"ES300\", \"ES51\"))  ggplot(RandomRegions) +   geom_sf() +   labs(title = \"Random Regions\")    MixingCodes <- esp_get_nuts(region = c(\"ES4\", \"ES-PV\", \"Valencia\"))   ggplot(MixingCodes) +   geom_sf() +   labs(title = \"Mixing Codes\")"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"Returns provinces Spain POLYGON POINT specified scale. esp_get_prov() uses GISCO (Eurostat) source. Please use giscoR::gisco_attributions() esp_get_prov_siane() uses CartoBase ANE source, provided Instituto Geografico Nacional (IGN), http://www.ign.es/web/ign/portal. Years available 2005 today.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"","code":"esp_get_prov(prov = NULL, moveCAN = TRUE, ...)  esp_get_prov_siane(   prov = NULL,   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"3\",   moveCAN = TRUE,   rawcols = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"prov vector names /codes provinces NULL get provinces. See Details. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands. ... Arguments passed esp_get_nuts spatialtype Type geometry returned: \"LB\": Labels - POINT object. \"RG\": Regions - POLYGON object. year Release year. See esp_get_nuts() esp_get_prov() Details esp_get_prov_siane(). epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution POLYGON. Values available 3, 6.5 10. rawcols Logical. Setting TRUE add raw columns resulting object provided IGN.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"sf object specified spatialtype.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"using prov can use mix names NUTS codes (levels 1, 2 3), ISO codes (corresponding level 2 3) \"cpro\" (see esp_codelist). Ceuta Melilla considered provinces dataset. calling higher level (Autonomous Community NUTS1), provinces level added. esp_get_prov_siane(), year passed single year (\"YYYY\" format, end year) specific date (\"YYYY-MM-DD\" format). Historical information starts 2005.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_prov.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Provinces of Spain as sf POLYGON or POINT — esp_get_prov","text":"","code":"prov <- esp_get_prov()  library(ggplot2)  ggplot(prov) +   geom_sf() +   theme_void()   # \\donttest{ # Random Provinces  Random <- esp_get_prov(prov = c(   \"Zamora\", \"Palencia\", \"ES-GR\",   \"ES521\", \"01\" ))   ggplot(Random) +   geom_sf(aes(fill = codauto), show.legend = FALSE, alpha = 0.5) +   scale_fill_manual(values = hcl.colors(     nrow(Random), \"Spectral\"   )) +   theme_minimal()    # All Provinces of a Zone plus an addition  Mix <- esp_get_prov(prov = c(   \"Noroeste\",   \"Castilla y Leon\", \"La Rioja\" ))  Mix$CCAA <- esp_dict_region_code(   Mix$codauto,   origin = \"codauto\" )  ggplot(Mix) +   geom_sf(aes(fill = CCAA), alpha = 0.5) +   scale_fill_discrete(type = hcl.colors(5, \"Temps\")) +   theme_classic()   # ISO codes available  allprovs <- esp_get_prov()  ggplot(allprovs) +   geom_sf(fill = NA) +   geom_sf_text(aes(label = iso2.prov.code),     check_overlap = TRUE,     fontface = \"bold\"   ) +   theme_void() #> Warning: st_point_on_surface may not give correct results for longitude/latitude data  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"Loads sf LINESTRING POINT object representing nodes railway lines Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"","code":"esp_get_railway(   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   spatialtype = \"line\" )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"year Release year. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. spatialtype Spatial type output. Use \"line\" extracting railway lines \"point\" extracting stations.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"sf LINESTRING POINT object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_railway.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf LINESTRING or POINT with the railways of Spain — esp_get_railway","text":"","code":"# \\donttest{  provs <- esp_get_prov() ccaa <- esp_get_ccaa()  # Railways rails <- esp_get_railway()  # Stations stations <- esp_get_railway(spatialtype = \"point\")  # Map  library(ggplot2)  ggplot(provs) +   geom_sf(fill = \"grey99\", color = \"grey50\") +   geom_sf(data = ccaa, fill = NA) +   geom_sf(     data = rails, aes(color = tipo),     show.legend = FALSE, linewidth = 1.5   ) +   geom_sf(     data = stations,     color = \"red\", alpha = 0.5   ) +   coord_sf(     xlim = c(-7.5, -2.5),     ylim = c(38, 41)   ) +   scale_color_manual(values = hcl.colors(     length(unique(rails$tipo)), \"viridis\"   )) +   theme_minimal()  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"Loads sf POLYGON LINESTRING object representing rivers, channels, reservoirs wetlands Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"","code":"esp_get_rivers(   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   resolution = \"3\",   spatialtype = \"line\",   name = NULL )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. resolution Resolution POLYGON. Values available \"3\", \"6.5\" \"10\". spatialtype Spatial type output. Use \"area\" POLYGON \"line\" LINESTRING. name Optional. character  regex expression name element(s) extracted.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"sf POLYGON LINESTRING object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"Metadata available https://github.com/rOpenSpain/mapSpain/tree/sianedata/.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_rivers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf POLYGON or LINESTRING of rivers, channels and other wetlands of Spain — esp_get_rivers","text":"","code":"# \\donttest{ # Use of regex  regex1 <- esp_get_rivers(name = \"Tajo|Segura\") unique(regex1$rotulo) #> [1] \"Río Tajo\"                        \"Río Segura\"                      #> [3] \"Canal del Transvase Tajo-Segura\"   regex2 <- esp_get_rivers(name = \"Tajo$| Segura\") unique(regex2$rotulo) #> [1] \"Río Tajo\"   \"Río Segura\"  # See the diference  # Rivers in Spain shapeEsp <- esp_get_country(moveCAN = FALSE)  MainRivers <-   esp_get_rivers(name = \"Tajo$|Ebro$|Ebre$|Duero|Guadiana$|Guadalquivir\")  sf::st_bbox(MainRivers) #>      xmin      ymin      xmax      ymax  #> -7.545006 36.798737  0.863511 43.014104  library(ggplot2)  ggplot(shapeEsp) +   geom_sf() +   geom_sf(data = MainRivers, color = \"skyblue\", linewidth = 2) +   coord_sf(     xlim = c(-7.5, 1),     ylim = c(36.8, 43)   ) +   theme_void()    # Wetlands in South-West Andalucia and <- esp_get_prov(c(\"Huelva\", \"Sevilla\", \"Cadiz\")) Wetlands <- esp_get_rivers(spatialtype = \"area\")  ggplot(and) +   geom_sf() +   geom_sf(     data = Wetlands, fill = \"skyblue\",     color = \"skyblue\", alpha = 0.5   ) +   coord_sf(     xlim = c(-7.5, -4.5),     ylim = c(36, 38.5)   ) +   theme_void()  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sf LINESTRING of the roads of Spain — esp_get_roads","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"Loads sf LINESTRING object representing main roads Spain.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"","code":"esp_get_roads(   year = Sys.Date(),   epsg = \"4258\",   cache = TRUE,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE,   moveCAN = TRUE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"IGN data via custom CDN (see https://github.com/rOpenSpain/mapSpain/tree/sianedata).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"year Release year. See Details years available. epsg projection map: 4-digit EPSG code. One : \"4258\": ETRS89. \"4326\": WGS84. \"3035\": ETRS89 / ETRS-LAEA. \"3857\": Pseudo-Mercator. cache logical whether caching. Default TRUE. See caching. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon). places Canary Islands close Spain's mainland. Initial position can adjusted using vector coordinates. See Displacing Canary Islands.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"sf LINESTRING object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"year passed single year (\"YYYY\" format, end year) specific date (\"YYYY-MM-DD\" format).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"displacing-the-canary-islands","dir":"Reference","previous_headings":"","what":"Displacing the Canary Islands","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"moveCAN useful visualization, alter actual geographic position Canary Islands. using output spatial analysis using tiles (e.g. esp_getTiles() addProviderEspTiles())  option set FALSE order get actual coordinates, instead modified ones. See also esp_move_can() displacing stand-alone sf objects.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_roads.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sf LINESTRING of the roads of Spain — esp_get_roads","text":"","code":"# \\donttest{  country <- esp_get_country() Roads <- esp_get_roads()  library(ggplot2)  ggplot(country) +   geom_sf(fill = \"grey90\") +   geom_sf(data = Roads, aes(color = tipo), show.legend = \"line\") +   scale_color_manual(     values = c(\"#003399\", \"#003399\", \"#ff0000\", \"#ffff00\")   ) +   guides(color = guide_legend(direction = \"vertical\")) +   theme_minimal() +   labs(color = \"Road type\") +   theme(legend.position = \"bottom\")  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"Loads simplified map (sf object) boundaries provinces autonomous communities Spain, provided INE (Instituto Nacional de Estadistica).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"","code":"esp_get_simpl_prov(   prov = NULL,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )  esp_get_simpl_ccaa(   ccaa = NULL,   update_cache = FALSE,   cache_dir = NULL,   verbose = FALSE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"INE: PC_Axis files","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"prov vector names /codes provinces NULL get provinces. See Details. update_cache logical whether update cache. Default FALSE. set TRUE force fresh download source file. cache_dir path cache directory. See caching. verbose Logical, displays information. Useful debugging, default FALSE. ccaa vector names /codes autonomous communities NULL get autonomous communities. See Details.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"sf POLYGON object.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"Results provided without CRS, provided source. can use mix names, ISO codes, \"codauto\"/\"cpro\" codes (see esp_codelist) NUTS codes different levels. using code corresponding higher level (e.g. esp_get_simpl_prov(\"Andalucia\")) corresponding units level provided (case , provinces Andalusia).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"about-caching","dir":"Reference","previous_headings":"","what":"About caching","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"can set cache_dir esp_set_cache_dir(). Sometimes cached files may corrupt. case, try re-downloading data setting update_cache = TRUE. experience problem download, try download corresponding .geojson file method save cache_dir. Use option verbose = TRUE debugging API query.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_get_simplified.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a simplified map of provinces and autonomous communities of Spain — esp_get_simpl_prov","text":"","code":"# \\donttest{ prov_simp <- esp_get_simpl_prov()  library(ggplot2)  ggplot(prov_simp) +   geom_sf(aes(fill = ine.ccaa.name)) +   labs(fill = \"CCAA\")   # Provs of Single CCAA  and_simple <- esp_get_simpl_prov(\"Andalucia\")  ggplot(and_simple) +   geom_sf()   # CCAAs  ccaa_simp <- esp_get_simpl_ccaa()  ggplot(ccaa_simp) +   geom_sf() +   geom_sf_text(aes(label = ine.ccaa.name), check_overlap = TRUE)  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a custom tile provider — esp_make_provider","title":"Create a custom tile provider — esp_make_provider","text":"Helper function esp_getTiles() helps create custom provider.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a custom tile provider — esp_make_provider","text":"","code":"esp_make_provider(id, q, service, layers, ...)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a custom tile provider — esp_make_provider","text":"id identifier user. used also identifying cached tiles. q base url service. service type tile service, either \"WMS\" \"WMTS\". layers name layer retrieve. ... Additional parameters query, like version, format, crs/srs, style, ... depending capabilities service.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a custom tile provider — esp_make_provider","text":"named list two elements id q.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a custom tile provider — esp_make_provider","text":"function meant work services provided OGC Standard. Note : mapSpain provide advice parameter q provided. Currently, WMTS requests services tilematrixset=GoogleMapsCompatible supported.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_make_provider.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a custom tile provider — esp_make_provider","text":"","code":"# \\dontrun{ # This script downloads tiles to your local machine # Run only if you are online  custom_wms <- esp_make_provider(   id = \"an_id_for_caching\",   q = \"https://idecyl.jcyl.es/geoserver/ge/wms?\",   service = \"WMS\",   version = \"1.3.0\",   layers = \"geolog_cyl_litologia\" )  x <- esp_get_ccaa(\"Castilla y León\", epsg = 3857)  mytile <- esp_getTiles(x, type = custom_wms)  tidyterra::autoplot(mytile) +   ggplot2::geom_sf(data = x, fill = NA)  # }"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":null,"dir":"Reference","previous_headings":"","what":"Displace a sf object located in the Canary Islands — esp_move_can","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"Helper function displace external sf object (potentially representing location Canary Islands) align objects provided sf option moveCAN = TRUE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"","code":"esp_move_can(x, moveCAN = TRUE)"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"x sf object. may sf sfc object. moveCAN logical TRUE/FALSE vector coordinates c(lat, lon).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"sf object class CRS x displaced accordingly.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"helper function intends ease representation objects located Canary Islands obtained sources rather package mapSpain.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_move_can.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Displace a sf object located in the Canary Islands — esp_move_can","text":"","code":"library(sf) teide <- data.frame(   name = \"Teide Peak\",   lon = -16.6437593,   lat = 28.2722883 )  teide_sf <- st_as_sf(teide, coords = c(\"lon\", \"lat\"), crs = 4326)  # If we use any mapSpain produced object with moveCAN = TRUE...  esp <- esp_get_country(moveCAN = c(13, 0))  library(ggplot2)   ggplot(esp) +   geom_sf() +   geom_sf(data = teide_sf, color = \"red\") +   labs(     title = \"Canary Islands displaced\",     subtitle = \"But not the external Teide object\"   )     # But we can  teide_sf_disp <- esp_move_can(teide_sf, moveCAN = c(13, 0))  ggplot(esp) +   geom_sf() +   geom_sf(data = teide_sf_disp, color = \"red\") +   labs(     title = \"Canary Islands displaced\",     subtitle = \"And also the external Teide object\"   )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_munic.sf.html","id":null,"dir":"Reference","previous_headings":"","what":"sf object with all the municipalities of Spain (2019) — esp_munic.sf","title":"sf object with all the municipalities of Spain (2019) — esp_munic.sf","text":"sf object including municipalities Spain provided GISCO (2019 version).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_munic.sf.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"sf object with all the municipalities of Spain (2019) — esp_munic.sf","text":"sf object (resolution: 1:1 million, EPSG:4258) object 8,131 rows columns: codauto INE code autonomous community. ine.ccaa.name INE name autonomous community. cpro INE code province. ine.prov.name INE name province. cmun INE code municipality. name Name municipality. LAU_CODE LAU Code (GISCO) municipality. combination cpro cmun fields, aligned INE coding scheme. geometry geometry field.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_munic.sf.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"sf object with all the municipalities of Spain (2019) — esp_munic.sf","text":"https://ec.europa.eu/eurostat/web/gisco/geodata/statistical-units/local-administrative-units, LAU 2019 data.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_munic.sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"sf object with all the municipalities of Spain (2019) — esp_munic.sf","text":"","code":"data(\"esp_munic.sf\")  teruel_cpro <- esp_dict_region_code(\"Teruel\", destination = \"cpro\")  teruel_sf <- esp_munic.sf[esp_munic.sf$cpro == teruel_cpro, ] teruel_city <- teruel_sf[teruel_sf$name == \"Teruel\", ]  # Plot  library(ggplot2)  ggplot(teruel_sf) +   geom_sf(fill = \"#FDFBEA\") +   geom_sf(data = teruel_city, aes(fill = name)) +   scale_fill_manual(     values = \"#C12838\",     labels = \"City of Teruel\"   ) +   guides(fill = guide_legend(position = \"inside\")) +   labs(     fill = \"\",     title = \"Municipalities of Teruel\"   ) +   theme_minimal() +   theme(     text = element_text(face = \"bold\"),     panel.background = element_rect(colour = \"black\"),     panel.grid = element_blank(),     legend.position.inside = c(.2, .95)   )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_nuts.sf.html","id":null,"dir":"Reference","previous_headings":"","what":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","title":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","text":"sf object including NUTS levels Spain provided GISCO (2016 version).","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_nuts.sf.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","text":"sf object (resolution: 1:1million, EPSG:4258) 86 rows columns: LEVL_CODE NUTS level code (0,1,2,3) NUTS_ID NUTS identifier URBN_TYPE Urban Type, see Details CNTR_CODE Eurostat Country code ES NAME_LATN NUTS name Latin characters NUTS_NAME NUTS name local alphabet MOUNT_TYPE Mount Type, see Details COAST_TYPE Coast Type, see Details FID FID geometry geometry field","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_nuts.sf.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","text":"https://gisco-services.ec.europa.eu/distribution/v2/nuts/, file NUTS_RG_20M_2016_4326.geojson.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_nuts.sf.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","text":"MOUNT_TYPE: Mountain typology: 1: 50 % surface covered topographic mountain areas. 2: 50 % regional population lives topographic mountain areas. 3: 50 % surface covered topographic mountain areas 50 % regional population lives mountain areas. 4: Non-mountain region / regions. 0: classification provided URBN_TYPE: Urban-rural typology: 1: Predominantly urban region. 2: Intermediate region. 3: Predominantly rural region. 0: classification provided COAST_TYPE: Coastal typology: 1: Coastal (coast). 2: Coastal (less 50% population living within 50 km. coastline). 3: Non-coastal region. 0: classification provided","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_nuts.sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"sf object with all the NUTS levels of Spain (2016) — esp_nuts.sf","text":"","code":"data(\"esp_nuts.sf\")  nuts <- esp_nuts.sf  # Select NUTS 3 nuts3 <- esp_nuts.sf[esp_nuts.sf$LEVL_CODE == 3, ]  # Combine with full shape  spain <- esp_get_country(moveCAN = FALSE)  # Plot Urban Type: See # https://ec.europa.eu/eurostat/web/rural-development/methodology  library(ggplot2)  nuts3$URBN_TYPE_cat <- as.factor(nuts3$URBN_TYPE)  levels(nuts3$URBN_TYPE_cat) #> [1] \"1\" \"2\" \"3\" levels(nuts3$URBN_TYPE_cat) <- c(\"Urban\", \"Intermediate\", \"Rural\")  ggplot(nuts3) +   geom_sf(aes(fill = URBN_TYPE_cat), linewidth = .1) +   scale_fill_manual(values = c(\"grey80\", \"#FFC183\", \"#68AC20\")) +   labs(     title = \"NUTS3 levels of Spain\",     fill = \"Urban topology\"   ) +   theme_linedraw()"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_set_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Set your mapSpain cache dir — esp_set_cache_dir","title":"Set your mapSpain cache dir — esp_set_cache_dir","text":"function store cache_dir path local machine load future sessions. Type Sys.getenv(\"MAPSPAIN_CACHE_DIR\") find cached path. Alternatively, can store cache_dir manually following options: Run Sys.setenv(MAPSPAIN_CACHE_DIR = \"cache_dir\"). need run command session (Similar install = FALSE). Set options(mapSpain_cache_dir = \"cache_dir\"). Similar previous option. recommended , provided backwards compatibility purposes. Write line .Renviron file: MAPSPAIN_CACHE_DIR = \"value_for_cache_dir\" (behavior install = TRUE). store cache_dir permanently.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_set_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set your mapSpain cache dir — esp_set_cache_dir","text":"","code":"esp_set_cache_dir(   cache_dir,   overwrite = FALSE,   install = FALSE,   verbose = TRUE )"},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_set_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set your mapSpain cache dir — esp_set_cache_dir","text":"cache_dir path cache directory. missing value function store cached files temporary dir (See base::tempdir()). overwrite Logical. set TRUE, overwrite existing MAPSPAIN_CACHE_DIR already local machine. install Logical. TRUE, install key local machine use future sessions.  Defaults FALSE. cache_dir FALSE parameter set FALSE automatically. verbose Logical, displays information. Useful debugging, default FALSE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_set_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set your mapSpain cache dir — esp_set_cache_dir","text":"(invisible) character path cache_dir.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_set_cache_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set your mapSpain cache dir — esp_set_cache_dir","text":"","code":"# Don't run this! It would modify your current state # \\dontrun{ esp_set_cache_dir(verbose = TRUE) #> Using a temporary cache dir. Set 'cache_dir' to a value for store permanently #> mapSpain cache dir is: C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\RtmpQbGjDi/mapSpain # }  Sys.getenv(\"MAPSPAIN_CACHE_DIR\") #> [1] \"C:\\\\Users\\\\RUNNER~1\\\\AppData\\\\Local\\\\Temp\\\\RtmpQbGjDi/mapSpain\""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_tiles_providers.html","id":null,"dir":"Reference","previous_headings":"","what":"Database of public WMS and WMTS of Spain — esp_tiles_providers","title":"Database of public WMS and WMTS of Spain — esp_tiles_providers","text":"named list length 102 containing parameters url information different public WMS WMTSproviders Spain. Implementation javascript plugin leaflet-providersESP v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_tiles_providers.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Database of public WMS and WMTS of Spain — esp_tiles_providers","text":"named list providers available following structure: item list named provider alias. element list contains two nested named lists: static parameters get static tiles plus additional item named attribution. leaflet additional parameters passed onto addProviderEspTiles().","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_tiles_providers.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Database of public WMS and WMTS of Spain — esp_tiles_providers","text":"https://dieghernan.github.io/leaflet-providersESP/ leaflet plugin, v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_tiles_providers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Database of public WMS and WMTS of Spain — esp_tiles_providers","text":"Providers available passed type esp_getTiles() : \"IDErioja\" \"IDErioja.Base\" \"IDErioja.Relieve\" \"IDErioja.Claro\" \"IDErioja.Oscuro\" \"IGNBase\" \"IGNBase.Todo\" \"IGNBase.Gris\" \"IGNBase.TodoNoFondo\" \"IGNBase.Orto\" \"MDT\" \"MDT.Elevaciones\" \"MDT.Relieve\" \"MDT.CurvasNivel\" \"MDT.SpotElevation\" \"PNOA\" \"PNOA.MaximaActualidad\" \"PNOA.Mosaico\" \"OcupacionSuelo\" \"OcupacionSuelo.Ocupacion\" \"OcupacionSuelo.Usos\" \"LiDAR\" \"MTN\" \"Geofisica\" \"Geofisica.Terremotos10dias\" \"Geofisica.Terremotos30dias\" \"Geofisica.Terremotos365dias\" \"Geofisica.ObservedEvents\" \"Geofisica.HazardArea\" \"VigilanciaVolcanica\" \"VigilanciaVolcanica.ErupcionesHistoricas\" \"CaminoDeSantiago\" \"CaminoDeSantiago.CaminoFrances\" \"CaminoDeSantiago.CaminosFrancia\" \"CaminoDeSantiago.CaminosGalicia\" \"CaminoDeSantiago.CaminosDelNorte\" \"CaminoDeSantiago.CaminosAndaluces\" \"CaminoDeSantiago.CaminosCentro\" \"CaminoDeSantiago.CaminosEste\" \"CaminoDeSantiago.CaminosCatalanes\" \"CaminoDeSantiago.CaminosSureste\" \"CaminoDeSantiago.CaminosInsulares\" \"CaminoDeSantiago.CaminosPortugueses\" \"Catastro\" \"Catastro.Catastro\" \"Catastro.Parcela\" \"Catastro.CadastralParcel\" \"Catastro.CadastralZoning\" \"Catastro.Address\" \"Catastro.Building\" \"Catastro.BuildingPart\" \"Catastro.AdministrativeBoundary\" \"Catastro.AdministrativeUnit\" \"RedTransporte\" \"RedTransporte.Carreteras\" \"RedTransporte.Ferroviario\" \"RedTransporte.Aerodromo\" \"RedTransporte.AreaServicio\" \"RedTransporte.EstacionesFerroviario\" \"RedTransporte.Puertos\" \"Cartociudad\" \"Cartociudad.CodigosPostales\" \"Cartociudad.Direcciones\" \"NombresGeograficos\" \"UnidadesAdm\" \"UnidadesAdm.Limites\" \"UnidadesAdm.Unidades\" \"Hidrografia\" \"Hidrografia.MasaAgua\" \"Hidrografia.Cuencas\" \"Hidrografia.Subcuencas\" \"Hidrografia.POI\" \"Hidrografia.ManMade\" \"Hidrografia.LineaCosta\" \"Hidrografia.Rios\" \"Hidrografia.Humedales\" \"Militar\" \"Militar.CEGET1M\" \"Militar.CEGETM7814\" \"Militar.CEGETM7815\" \"Militar.CEGETM682\" \"Militar.CECAF1M\" \"ADIF\" \"ADIF.Vias\" \"ADIF.Nodos\" \"ADIF.Estaciones\" \"LimitesMaritimos\" \"LimitesMaritimos.LimitesMaritimos\" \"LimitesMaritimos.LineasBase\" \"Copernicus\" \"Copernicus.Forest\" \"Copernicus.ForestLeaf\" \"Copernicus.WaterWet\" \"Copernicus.SoilSeal\" \"Copernicus.GrassLand\" \"Copernicus.RiparianGreen\" \"Copernicus.RiparianLandCover\" \"Copernicus.Natura2k\" \"Copernicus.UrbanAtlas\" \"ParquesNaturales\" \"ParquesNaturales.Limites\" \"ParquesNaturales.ZonasPerifericas\"","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/esp_tiles_providers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Database of public WMS and WMTS of Spain — esp_tiles_providers","text":"","code":"data(\"esp_tiles_providers\") # Get a single provider  single <- esp_tiles_providers[[\"IGNBase.Todo\"]] single$static #> $attribution #> [1] \"CC BY 4.0 scne.es. Sistema Geográfico Nacional IGN\" #>  #> $q #> [1] \"https://www.ign.es/wmts/ign-base?\" #>  #> $service #> [1] \"WMTS\" #>  #> $request #> [1] \"GetTile\" #>  #> $version #> [1] \"1.0.0\" #>  #> $format #> [1] \"image/png\" #>  #> $layer #> [1] \"IGNBaseTodo\" #>  #> $style #> [1] \"default\" #>  #> $tilematrixset #> [1] \"GoogleMapsCompatible\" #>  #> $tilematrix #> [1] \"{z}\" #>  #> $tilerow #> [1] \"{y}\" #>  #> $tilecol #> [1] \"{x}\" #>   single$leaflet #> $attribution #> [1] \"CC BY 4.0 scne.es. Sistema Geogr&aacute;fico Nacional <a href='http://www.ign.es'>IGN<\/a>\" #>"},{"path":"https://ropenspain.github.io/mapSpain/reference/leaflet.providersESP.df.html","id":null,"dir":"Reference","previous_headings":"","what":"(Superseded) Database of public WMS and WMTS of Spain — leaflet.providersESP.df","title":"(Superseded) Database of public WMS and WMTS of Spain — leaflet.providersESP.df","text":"data.frame longer use mapSpain. See esp_tiles_providers instead. data.frame containing information different public WMS WMTS providers Spain","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/leaflet.providersESP.df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"(Superseded) Database of public WMS and WMTS of Spain — leaflet.providersESP.df","text":"data.frame object list required parameters calling service: provider Provider name field Description value value INE code province","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/leaflet.providersESP.df.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"(Superseded) Database of public WMS and WMTS of Spain — leaflet.providersESP.df","text":"https://dieghernan.github.io/leaflet-providersESP/ leaflet plugin, v1.3.3.","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/leaflet.providersESP.df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"(Superseded) Database of public WMS and WMTS of Spain — leaflet.providersESP.df","text":"","code":"data(\"leaflet.providersESP.df\")"},{"path":"https://ropenspain.github.io/mapSpain/reference/mapSpain-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mapSpain: Administrative Boundaries of Spain — mapSpain-package","title":"mapSpain: Administrative Boundaries of Spain — mapSpain-package","text":"Administrative Boundaries Spain several levels (Autonomous Communities, Provinces, Municipalities) based 'GISCO' 'Eurostat' database https://ec.europa.eu/eurostat/web/gisco 'CartoBase SIANE' 'Instituto Geografico Nacional' https://www.ign.es/. also provides 'leaflet' plugin ability downloading processing static tiles.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/mapSpain-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mapSpain: Administrative Boundaries of Spain — mapSpain-package","text":"Maintainer: Diego Hernangómez diego.hernangomezherrero@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/pobmun19.html","id":null,"dir":"Reference","previous_headings":"","what":"Database with the population of Spain by municipality (2019) — pobmun19","title":"Database with the population of Spain by municipality (2019) — pobmun19","text":"Database population Spain municipality (2019)","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/pobmun19.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Database with the population of Spain by municipality (2019) — pobmun19","text":"example data.frame object 8,131 rows containing population data municipality Spain (2019). cpro INE code province. provincia name province. cmun INE code municipality. name Name municipality. pob19 Overall population (2019) men Men population (2019) women Women population (2019)","code":""},{"path":"https://ropenspain.github.io/mapSpain/reference/pobmun19.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Database with the population of Spain by municipality (2019) — pobmun19","text":"INE: Instituto Nacional de Estadistica https://www.ine.es/","code":""},{"path":[]},{"path":"https://ropenspain.github.io/mapSpain/reference/pobmun19.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Database with the population of Spain by municipality (2019) — pobmun19","text":"","code":"data(\"pobmun19\")"},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-0100","dir":"Changelog","previous_headings":"","what":"mapSpain 0.10.0","title":"mapSpain 0.10.0","text":"CRAN release: 2024-12-15 Fix bug esp_get_prov_siane() selecting columns #115. New argument type esp_get_comarca(). Now possible extract different types comarcas: Official (IGN), statistical (INE), agrarian livestock comarcas (MAPA).","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-092","dir":"Changelog","previous_headings":"","what":"mapSpain 0.9.2","title":"mapSpain 0.9.2","text":"CRAN release: 2024-08-26 SIANE 2024 Update: Adapt functions new databases. Improve dictionaries: esp_dict_region_code() esp_dict_translate().","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-091","dir":"Changelog","previous_headings":"","what":"mapSpain 0.9.1","title":"mapSpain 0.9.1","text":"CRAN release: 2024-06-10 Update actions docs.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-090","dir":"Changelog","previous_headings":"","what":"mapSpain 0.9.0","title":"mapSpain 0.9.0","text":"CRAN release: 2024-01-23 Add helper function displace stand-alone sf objects Canary Islands: esp_move_can(). esp_move_can() used internally functions. Add new function show current cache directory: esp_detect_cache_dir(). mapSpain::layer_spatraster() removed (deprecated mapSpain 0.6.2).","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-080","dir":"Changelog","previous_headings":"","what":"mapSpain 0.8.0","title":"mapSpain 0.8.0","text":"CRAN release: 2023-07-12 Improve download NUTS data giscoR. IDErioja.Base IDErioja.Relieve IDErioja.Claro IDErioja.Oscuro esp_getTiles() now supports non-OGC compliant WMTS providers, Stamen OpenStreetMaps (see examples).","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-070","dir":"Changelog","previous_headings":"","what":"mapSpain 0.7.0","title":"mapSpain 0.7.0","text":"CRAN release: 2022-12-22 Upgrade leaflet.providersESP.df https://dieghernan.github.io/leaflet-providersESP/ v1.3.2. leaflet.providersESP.df superseded favor esp_tiles_providers. can use custom url type argument esp_getTiles() (#88). Add new function esp_make_provider() helps create custom providers.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-062","dir":"Changelog","previous_headings":"","what":"mapSpain 0.6.2","title":"mapSpain 0.6.2","text":"CRAN release: 2022-08-13 Now moveCAN explicit parameter relevant functions. Deprecate layer_spatraster(). Use tidyterra::geom_spatraster_rgb() instead. Fix geometries esp_get_hex_prov() esp_get_hex_ccaa(). Add new function get comarcas INE: esp_get_comarca(). esp_get_simpl_prov(). esp_get_simpl_ccaa().","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-061","dir":"Changelog","previous_headings":"","what":"mapSpain 0.6.1","title":"mapSpain 0.6.1","text":"CRAN release: 2022-02-25 HOTFIX: Bug esp_getTiles() mask = TRUE.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-060","dir":"Changelog","previous_headings":"","what":"mapSpain 0.6.0","title":"mapSpain 0.6.0","text":"CRAN release: 2022-02-18 Catastro.BuildingPart Catastro.AdministrativeBoundary Catastro.AdministrativeUnit Add new param options esp_getTiles(). Improve regex search municipalities: Now casing word ignored.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-050","dir":"Changelog","previous_headings":"","what":"mapSpain 0.5.0","title":"mapSpain 0.5.0","text":"CRAN release: 2022-01-25 Rebuild coding database avoid errors due encoding. Fix translations Galician. esp_get_grid_MTN() esp_get_grid_BDN() esp_get_grid_EEA() esp_get_grid_ESDAC()","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-040","dir":"Changelog","previous_headings":"","what":"mapSpain 0.4.0","title":"mapSpain 0.4.0","text":"CRAN release: 2021-10-14 Switch raster terra. Clean dependencies. Imagery packages moved ‘Suggests’. Add layer_spatraster(). Move examples ggplot2.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-031","dir":"Changelog","previous_headings":"","what":"mapSpain 0.3.1","title":"mapSpain 0.3.1","text":"CRAN release: 2021-09-10 Add mapSpain::esp_clear_cache() Update docs @family tag.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-030","dir":"Changelog","previous_headings":"","what":"mapSpain 0.3.0","title":"mapSpain 0.3.0","text":"CRAN release: 2021-09-01 Caching improvements: new function esp_set_cache_dir() based rappdirs::user_cache_dir(). Now cache_dir path stored necessary set new session. Add new parameter zoommin esp_getTiles(). New tests testthat. Update docs. New examples Precompute vignette.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-023","dir":"Changelog","previous_headings":"","what":"mapSpain 0.2.3","title":"mapSpain 0.2.3","text":"CRAN release: 2021-04-25 Move minimum version giscoR v0.2.4 Fix typos esp_dict_translate() (#36). run examples tiles, server sometimes doesn’t respond. Re factor sysdata.rda. Removed broken link addProviderEspTiles(). Vignette removed (CRAN warning). Now cache directory created recursively.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-022","dir":"Changelog","previous_headings":"","what":"mapSpain 0.2.2","title":"mapSpain 0.2.2","text":"CRAN release: 2021-04-17 Migrate examples, vignettes README tmap. Add vignette package. esp_dict_region_code() works mixed casings (e.g: esp_dict_region_code(\"aLbacEte\", destination = \"cpro\")).","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-021","dir":"Changelog","previous_headings":"","what":"mapSpain 0.2.1","title":"mapSpain 0.2.1","text":"CRAN release: 2021-03-19 QUICKFIX: Fix typo documentation: cache_dir set options(mapSpain_cache_dir = \"path//dir\").","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-020","dir":"Changelog","previous_headings":"","what":"mapSpain 0.2.0","title":"mapSpain 0.2.0","text":"CRAN release: 2021-02-25 Fix DOI https://doi.org/10.5281/zenodo.4318024 Documentation ported roxygen2. mapSpain::esp_get_munic_siane() mapSpain::esp_get_prov_siane() mapSpain::esp_get_ccaa_siane() mapSpain::esp_get_hypsobath() mapSpain::esp_get_rivers() mapSpain::esp_get_hydrobasin() mapSpain::esp_get_capimun() mapSpain::esp_get_roads() mapSpain::esp_get_railway() Mute warnings rgdal.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-012","dir":"Changelog","previous_headings":"","what":"mapSpain 0.1.2","title":"mapSpain 0.1.2","text":"CRAN release: 2021-01-05 Fix annoying warning sf loaded first. Include new poly option mapSpain::esp_get_can_box(). New grids created geogrid::calculate_grid(). Add years mapSpain::esp_get_munic(). Move rOpenSpain organization.","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-011","dir":"Changelog","previous_headings":"","what":"mapSpain 0.1.1","title":"mapSpain 0.1.1","text":"CRAN release: 2020-11-30 Fix CRAN submission. Added mapSpain::esp_get_grid_prov() mapSpain::esp_get_grid_ccaa().","code":""},{"path":"https://ropenspain.github.io/mapSpain/news/index.html","id":"mapspain-010","dir":"Changelog","previous_headings":"","what":"mapSpain 0.1.0","title":"mapSpain 0.1.0","text":"Initial release.","code":""}]
